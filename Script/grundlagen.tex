\chapter{Mathematische Grundlagen} 
In diesem Kapitel führen wir den Begriff der \emph{prädikatenlogischen Formel} informell
als Kurzschreibweise ein.  Um später eine mathematisch einwandfreie Definition der
\emph{Semantik}, also der Bedeutung dieser Formeln geben zu können, benötigen wir die
Mengenlehre, die wir im zweiten Abschnitt dieses Kapitels einführen.  Anschließend
diskutieren wir \emph{binäre Relationen} und diskutieren 
\emph{transitive Relationen} und \emph{Äquivalenz-Relationen}.


\section{Prädikatenlogische Formeln}
Der Begriff der \emph{prädikatenlogischen Formel} wird in dieser Vorlesung eine zentrale
Rolle spielen.  Wir werden prädikatenlogische Formeln zunächst als \emph{Abkürzungen} definieren.  
Vorher motivieren wir die Verwendung solcher Formeln.

\subsection{Warum Formeln}
Betrachten wir einmal den folgenden mathematischen Text: 
\begin{center}
\begin{minipage}{14cm}
{\em 
  Addieren wir zwei Zahlen und bilden dann das Quadrat dieser Summe, so ist das Ergebnis das
  selbe, wie wenn wir zunächst beide Zahlen einzeln quadrieren, diese Quadrate aufsummieren 
  und dazu noch das Produkt der beiden Zahlen zweifach hinzu addieren.
}
\end{minipage}
\end{center}
Der mathematische Satz, der hier ausgedrückt wird, ist Ihnen aus der Schule bekannt,
es handelt sich um den ersten Binomischen Satz.  Um dies zu sehen, führen wir für die
in dem Text genannten zwei Zahlen die Variablen $a$ und $b$ ein und übersetzen dann die 
in dem obigen Text auftretenden Teilsätze in Terme.  Die folgende Tabelle zeigt diesen Prozess: \\[0.3cm]
\hspace*{1.3cm} 
\begin{tabular}{ll}
  \emph{Addieren wir zwei Zahlen} & $a+b$ \\
  \emph{bilden das Quadrat dieser Summe} & $(a+b)^2$ \\
  \emph{beide Zahlen einzeln quadrieren} & $a^2$, $b^2$ \\
  \emph{diese Quadrate aufsummieren} & $a^2 + b^2$ \\
  \emph{das Produkt der beiden Zahlen \ldots} & $a\cdot b$ \\
  \emph{\ldots zweifach hinzu addieren} & $a^2 + b^2 + 2\cdot a \cdot b $ \\
  \emph{} & $ $ \\
\end{tabular} \\
Insgesamt finden wir so, dass der obige Text zu der folgenden Formel äquivalent ist: \\[0.2cm]
\hspace*{1.3cm} $(a+b)^2 = a^2 + b^2 + 2\cdot a\cdot b$. \\[0.2cm]
Für den mathematisch Geübten ist diese Formel offensichtlich leichter zu verstehen ist als
der oben angegebene Text.  Aber die Darstellung von mathematischen Zusammenhängen durch
Formeln bietet neben der verbesserten Lesbarkeit noch zwei weitere Vorteile:
\begin{enumerate}
\item Formeln sind \emph{manipulierbar}, d.~h.~wir können mit Formeln \emph{rechnen}.
      Außerdem lassen Formeln sich aufgrund ihrer vergleichsweise einfachen Struktur auch 
      mit Hilfe von Programmen bearbeiten und analysieren.  Beim heutigen Stand der Technik ist
      es hingegegen nicht möglich, natürlichsprachlichen Text mit dem Rechner vollständig
      zu analysieren und zu verstehen.
\item Darüber hinaus lässt sich die Bedeutung von Formeln mathematisch definieren und
      steht damit zweifelsfrei fest.  Eine solche mathematische Definition der Bedeutung
      ist für natürlichsprachlichen Text so nicht möglich, da
      natürlichsprachlicher Text oft mehrdeutig ist und die genaue Bedeutung nur
      aus dem Zusammenhang hervorgeht.  Als Beispiel für die Mehrdeutigkeit natürlicher
      Sprache möchte ich die folgende Schlagzeile aus der Zeitung \textsl{Journal Star}
      von 1980 präsentieren:
      \\[0.2cm]
      \hspace*{1.3cm}
      \textsl{Crowd Rushing to See Pope Tramples 6 to Death}
      \\[0.2cm]
      Diesen Satz können Sie auf zwei Arten lesen.  Gemeint ist eigentlich, dass unter der
      Gruppe von Menschen, die den Papst sehen wollten, eine Panik ausbrach, was zum zum
      Tod von sechs Menschen führte.  Die andere Interpretation dieses Satzes zeigt den
      Papst in einer aktiveren Rolle, in der er an die guten alten Zeiten der Heiligen
      Römischen Inquisition anknüpft.
\end{enumerate}

\subsection{Formeln als Kurzschreibweise}
Nach dieser kurzen Motivation führen wir zunächst Formeln als Abkürzungen ein und stellen
der Reihe nach die Ingredienzen vor, die wir zum Aufbau einer Formel benötigen. 
\begin{enumerate}
\item \emph{Variablen}

      Variablen dienen uns als Namen für verschieden Objekte.  Oben, bei dem Beispiel mit
      der ersten binomischen Formel, haben wir beispielsweise 
      für die beiden zu addierenden Zahlen die Variablen $a$ und $b$ eingeführt.  Die Idee bei
      der Einführung einer Variable ist, dass diese ein Objekt bezeichnet, dessen Identität 
      noch nicht feststeht.
\item \emph{Konstanten}

      Konstanten bezeichnen  Objekte, deren Identität feststeht. 
      In der Mathematik werden beispielsweise Zahlen wie $1$ oder $\pi$ als Konstanten verwendet.
      Würden wir Aussagen über den biblischen Stammbaum als Formeln darstellen, so würden
      wir  \texttt{Adam} und \texttt{Eva} als Konstanten verwenden.

      \begin{center}
      \begin{minipage}{13.4cm}  
        { \footnotesize
          \setlength{\baselineskip}{9pt} 
          Dieses letzte Beispiel mag Sie vielleicht verwundern, weil Sie davon
          ausgehen, dass Formeln nur dazu benutzt werden, mathematische oder allenfalls
          technische Zusammenhänge zu beschreiben.  Der logische Apparat ist aber
          keineswegs auf eine Anwendung in diesen Bereichen beschränkt.  Gerade auch
          Sachverhalte aus dem täglichen Leben lassen sich mit Hilfe von Formeln präzise
          beschreiben.  Das ist auch notwendig, denn wir wollen ja später unsere Formeln
          zur Analyse von Programmen benutzen und diese Programme werden sich durchaus
          auch mit der Lösung von Problemen beschäftigen, die ihren Ursprung außerhalb der
          Technik haben. \par} 
      \end{minipage}
      \end{center}

      Variablen und Konstanten werden zusammenfassend als \emph{atomare Terme}
      bezeichnet.  Das Attribut \emph{atomar} bezieht sich hierbei auf die Tatsache,
      dass diese Terme sich nicht weiter in Bestandteile zerlegen lassen.  Im Gegensatz
      dazu stehen die \emph{zusammengesetzten Terme}.  Dies sind Terme, die mit Hilfe von 
      Funktions-Zeichen aus anderen Termen aufgebaut werden.

\item \emph{Funktions-Zeichen}

      Funktions-Zeichen benutzen wir, um aus Variablen und Konstanten neue Ausdrücke aufzubauen,
      die wiederum Objekte bezeichnen.  In dem obigen Beispiel haben wir das Funktions-Zeichen
      ``$+$'' benutzt und mit diesem Funktions-Zeichen aus den Variablen $a$ und $b$ den Ausdruck $a+b$
      gebildet.  Allgemein nennen wir Ausdrücke, die sich aus Variablen, Konstanten und Funktions-Zeichen 
      bilden lassen, \emph{Terme}.  

      Das Funktions-Zeichen ``$+$'' ist zweistellig, aber natürlich gibt es auch einstellige und
      mehrstellige Funktions-Zeichen. Ein Beispiel aus der Mathematik für ein einstelliges Funktions-Zeichen ist 
      das Zeichen ``$\sqrt{\rule{0pt}{9pt}\quad}$''.  Ein weiteres Beispiel
      ist durch das Zeichen ``$\mathtt{\sin}$'' gegeben, dass in der Mathematik für die
      Sinus-Funktion verwendet wird.

      Allgemein gilt: Ist $f$ ein $n$-stelliges Funktions-Zeichen und sind 
       $t_1, \cdots, t_n$ Terme,
      so kann mit Hilfe des Funktions-Zeichen $f$  daraus der neue Term \\[0.2cm]
      \hspace*{1.3cm} $f(t_1,\cdots,t_n)$ \\[0.2cm]
      gebildet werden.  Diese Schreibweise, bei der zunächst das Funktions-Zeichen
      gefolgt von einer öffnenden Klammer angegeben wird und anschließend die Argumente
      der Funktion durch Kommata getrennt aufgelistet werden, gefolgt von einer
      schließenden Klammer, ist der ``Normalfall''.  Diese Notation wird auch als \emph{Präfix-Notation}
      bezeichnet. Bei einigen zweistelligen Funktions-Zeichen hat es sich aber eingebürgert, diese in einer
      \emph{Infix-Notation} darzustellen, d.h.~solche Funktions-Zeichen werden zwischen
      die Terme geschrieben. In der Mathematik liefern die  Funktions-Zeichen ``$+$'',
      ``$-$'', ``$\cdot $'' und ``$/$'' hierfür Beispiele.  Schließlich gibt es noch Funktions-Zeichen,
      die auf ihr Argument folgen.  Ein Beispiel dafür ist das Zeichen ``\texttt{!}'' zur
      Bezeichnung der \emph{Fakultät}\footnote{
      Für eine positive natürliche Zahl $n$ ist die \emph{Fakultät} von $n$ als das Produkt aller
      natürlichen Zahlen von $1$ bis $n$ definiert.  Die Fakultät von $n$ wird mit $n!$ bezeichnet, 
      es gilt also $n! = 1 \cdot 2 \cdot 3 \cdot \dots \cdot (n-1) \cdot n$.},
      denn für die Fakultät einer Zahl $n$ hat sich in der Mathematik
      die Schreibweise ``$n!$'' eingebürgert.  Eine solche Notation wird als \emph{Postfix-Notation}
      bezeichnet.
\item \emph{Prädikate}

      Prädikate stellen zwischen verschiedenen Objekten eine Beziehung her.  Ein wichtiges Prädikat
      ist das Gleichheits-Prädikat, dass durch das Gleichheits-Zeichen ``$=$'' dargestellt
      wird. Setzen wir zwei Terme $t_1$ und $t_2$ durch das Gleichheits-Zeichen in Beziehung,
      so erhalten wir die \emph{Formel} $t_1 = t_2$.

      Genau wie Funktions-Zeichen auch hat jedes Prädikat eine vorgegebene \emph{Stelligkeit}.
      Diese gibt an, wie viele Objekte durch das Prädikat in Relation gesetzt werden.  Im Falle des
      Gleichheits-Zeichens ist die Stelligkeit 2, aber es gibt auch Prädikate mit anderen Stelligkeiten.
      Zum Beispiel könnten wir ein Prädikat ``\texttt{istQuadrat}'' definieren, dass für natürliche
      Zahlen ausdrückt, dass diese Zahl eine Quadrat-Zahl ist.  Ein solches Prädikat wäre dann
      einstellig.

      Ist allgemein $p$ ein $n$-stelliges Prädikats-Zeichen und sind die
      Ausdrücke $t_1, \cdots, t_n$
      Terme, so kann aus diesen Bestandteilen die \emph{Formel} \\[0.2cm]
      \hspace*{1.3cm} $p(t_1,\cdots,t_n)$ \\[0.2cm]
      gebildet werden.  Formeln von dieser Bauart bezeichnen wir auch als \emph{atomare Formel}, denn
      sie ist zwar aus Termen, nicht jedoch aus aus anderen Formeln zusammengesetzt.
      
      Genau wie bei zweistelligen  Funktions-Zeichen hat sich auch bei zweistelligen
      Prädikats-Zeichen eine \emph{Infix-Notation} eingebürgert.
      Das Prädikats-Zeichen ``$=$'' liefert ein Beispiel hierfür, denn wir schreiben
      ``$a=b$'' statt ``$=(a,b)$''.  Andere Prädikats-Zeichen, für die sich eine
      Infix-Notation eingebürgert hat, sind die Prädikats-Zeichen ``$<$'', 
      ``$\leq$'', ``$>$'' und ``$\geq$'', die zum Vergleich von Zahlen benutzt werden. 

      \remark
      Der Aufbau einer atomaren Formel $p(t_1, \cdots, t_m)$ ist ganz ähnlich zu dem
      Aufbau eines Terms der Form $f(t_1, \cdots, t_m)$, aber die Bedeutung ist eine ganz
      Andere:  Die Formel $p(t_1, \cdots, t_m)$ ist entweder wahr oder falsch, während
      der Term $f(t_1,\cdots,t_n)$ ein Objekt bezeichnet.  Um atomare Formeln und Terme
      unterscheiden zu können müssen wir Prädikats-Zeichen und Funktions-Zeichen
      unterscheiden können.
\item \emph{Junktoren} 

      Junktoren werden dazu benutzt, Formeln mit einander in Beziehung zu setzen.  Der einfachste Junktor
      ist das ``\emph{und}''. Haben wir zwei Formeln $F_1$ und $F_2$ und wollen ausdrücken, dass sowohl
      $F_1$ als auch $F_2$ gültig ist, so schreiben wir \\[0.2cm]
      \hspace*{1.3cm} $F_1 \wedge F_2$ \\[0.2cm]
      und lesen dies als ``$F_1$ \emph{und} $F_2$''.  Die nachfolgende Tabelle listet alle
      Junktoren auf, die wir verwenden werden: \\[0.2cm]
      \hspace*{1.3cm} 
      \begin{tabular}{|l|l|}
      \hline
      Junktor & Bedeutung \\
      \hline
      \hline
        $\neg F$ & nicht $F$ \\
      \hline
        $F_1 \wedge F_2$ & $F_1$ und $F_2$ \\
      \hline
        $F_1 \vee F_2$ & $F_1$ oder $F_2$ \\
      \hline
        $F_1 \rightarrow F_2$ & wenn $F_1$, dann $F_2$ \\
      \hline
        $F_1 \leftrightarrow F_2$ &  $F_1$ genau dann, wenn $F_2$ \\
      \hline
      \end{tabular}

      Hier ist noch zu bemerken, dass es bei komplexeren Formeln zur Vermeidung von Mehrdeutigkeiten
      notwendig ist, diese geeignet zu klammern.  Bezeichnen beispielsweise
      $P$, $Q$ und $R$ atomare Formeln,
      so können wir unter Zuhilfenahme von Klammern daraus  die folgenden Formeln bilden: \\[0.2cm]
      \hspace*{1.3cm}  $P \rightarrow (Q \vee R)$ \quad und \quad $(P \rightarrow Q) \vee R$. \\[0.2cm]
      Umgangssprachlich würden beide Formeln wie folgt interpretiert: 
      \begin{center}
      \begin{minipage}{12cm}
        \textsl{Aus $P$ folgt $Q$ oder $R$.}
      \end{minipage}
      \end{center}
      Die mathematische Schreibweise ist hier durch die Klammersetzung eindeutig, während
      die umgangssprachlichen Formulierung zwei verschiedene Interpretationen zulässt.

      Die Verwendung von vielen Klammern vermindert die Lesbarkeit einer Formel.  Um
      Klammern einsparen zu können, vereinbaren wir daher ähnliche Bindungsregeln, wie wir
      sie aus der Schulmathematik kennen.  Dort wurde vereinbart, dass ``$+$'' und ``$-$'' schwächer
      binden als  ``$\cdot $'' und ``$/$'' und damit ist gemeint, dass \\[0.2cm]
      \hspace*{1.3cm} $x + y \cdot z$  \quad als \quad $x + (y \cdot z)$ \\[0.2cm]
      interpretiert wird.  Ähnlich vereinbaren wir hier, dass ``$\neg$'' stärker bindet als ``$\wedge$''
      und ``$\vee$'' und dass diese beiden Operatoren stärker binden als
      ``$\rightarrow$''.  Schließlich bindet der Operator ``$\leftrightarrow$'' 
      schwächer als alle anderen Operatoren.  Mit diesen Vereinbarungen lautet die Formel \\[0.2cm]
      \hspace*{1.3cm} $P \wedge Q \rightarrow R \leftrightarrow \neg R \rightarrow \neg P \vee \neg Q$ \\[0.2cm]
      dann in einer vollständig geklammerten Schreibweise \\[0.2cm]
      \hspace*{1.3cm}  
      $\bigl((P \wedge Q) \rightarrow R\bigr) \leftrightarrow \bigl(\,(\neg R) \rightarrow ((\neg P) \vee (\neg Q))\,\bigr)$. 
      
      \remark
      In der Literatur wird gelegentlich gefordert, das der Operator ``$\wedge$'' stärker
      bindet als der Operator ``$\vee$'' und dieser Konvention folgt auch die
      Programmiersprache \texttt{C}, in der das logische \textbf{Und} durch den Operator
      ``\texttt{\&\&}'' und das logische \textbf{Oder} durch ``\texttt{||}'' dargestellt wird.
      Eine solche Konvention ist allerdings später, wenn wir Formeln in die sogenannte
      \emph{konjunktive Normalform} bringen, kontraintuitiv.  Daher haben in diesem Skript
      die beiden Operatoren ``$\wedge$'' und ``$\vee$'' dieselbe Bindungsstärke.
      
      \remark
      Die Bindungsstärke eines Operators wird auch als die \emph{Präzedenz} des Operators bezeichnet.

\item \emph{Quantoren}
      geben an, in welcher Weise eine Variable in einer Formel interpretiert wird. 
      Wir führen zwei Quantoren ein, 
      den All-Quantor ``$\forall$'' und den Existenz-Quantor ``$\exists$''.  Eine Formel der Form\\[0.2cm]
      \hspace*{1.3cm} $\forall x: F$ \\[0.2cm]
      lesen wir als ``\emph{für alle $x$ gilt $F$}'' und eine Formel der Form \\[0.2cm]
      \hspace*{1.3cm} $\exists x: F$ \\[0.2cm]
      wird als ``\emph{es gibt ein $x$, so dass $F$ gilt}'' gelesen.  In dieser Vorlesung
      werden wir üblicherweise \emph{qualifizierte Quantoren} verwenden.  Die Qualifizierung
      gibt dabei an, in welchem Bereich die durch die Variablen bezeichneten Objekte liegen müssen.
      Im Falle des All-Quantors schreiben wir dann \\[0.2cm]
      \hspace*{1.3cm} $\forall x \in M: F$ \\[0.2cm]
      und lesen dies als ``\emph{für alle $x$ aus $M$ gilt $F$}''.  Hierbei bezeichnet $M$
      eine Menge. Dies ist nur eine abkürzende Schreibweise,
      die wir wie folgt definieren können: \\[0.2cm]
      \hspace*{1.3cm} $\forall x \in M: F \stackrel{de\!f}{\Longleftrightarrow} \forall x\colon (x\in M \rightarrow F)$ 

      Entsprechend
      lautet die Notation für den Existenz-Quantor \\[0.2cm]
      \hspace*{1.3cm}  $\exists x \in M: F$ \\[0.2cm]
      und das wird dann  als ``\emph{es gibt ein $x$ aus $M$, so dass $F$ gilt}'' gelesen.  
      Formal lässt sich das als \\[0.2cm]
      \hspace*{1.3cm} $\exists x \in M: F \stackrel{de\!f}{\Longleftrightarrow} \exists x\colon (x\in M \wedge F)$ \\[0.2cm]
      definieren.       Wir verdeutlichen die Schreibweisen durch eine Beispiel.  Die Formel \\[0.2cm]
      \hspace*{1.3cm} $\forall x \in \mathbb{R}: \exists n \in \mathbb{N} : n > x$ \\[0.2cm]
      lesen wir wie folgt:
      \begin{center}
        {\em
        \begin{minipage}{12cm}
          Für alle $x$ aus $\mathbb{R}$ gilt: Es gibt ein $n$ aus $\mathbb{N}$, so dass
          $n$ größer als $x$ ist.
        \end{minipage}
        }
      \end{center}
      Hier steht $\mathbb{R}$ für die reellen Zahlen und $\mathbb{N}$ bezeichnet die natürlichen Zahlen.
      Die obige Formel drückt also aus, dass es zu jeder reellen Zahl $x$ eine natürlich Zahl $n$ gibt, 
      so dass $n$ größer als $x$ ist.

      Treten in einer Formel Quantoren und Junktoren gemischt auf, so stellt sich die
      Frage, was stärker bindet.  Wir vereinbaren, dass Quantoren schwächer binden als
      Junktoren.  Eine Formel der Art \\[0.2cm]
      \hspace*{1.3cm} $\forall x \colon p(x) \wedge q(x)$ \\[0.2cm]
      wird damit implizit wie folgt geklammert: \\[0.2cm]
      \hspace*{1.3cm} $\forall x \colon \bigl(p(x) \wedge q(x)\bigr)$. 
\end{enumerate}

\subsection{Beispiele für Terme und Formeln}
Um die Konzepte ``Term'' und ``Formel'' zu verdeutlichen, geben wir im Folgenden einige
Beispiele an.  Wir wählen ein Beispiel aus dem täglichen Leben und geben Terme und Formeln an, die sich mit
Verwandschaftsbeziehungen beschäftigen.  Wir beginnen damit, dass wir die Konstanten,
Variablen, Funktions-Zeichen und Prädikats-Zeichen festlegen.
\begin{enumerate}
\item Als \emph{Konstanten} verwenden wir die Wörter \\[0.2cm]
      \hspace*{1.3cm} ``\texttt{adam}'', ``\texttt{eva}'', ``\texttt{kain}'' und ``\texttt{abel}'',
      ``\texttt{lisa}''.
\item Als \emph{Variablen} verwenden wir die Buchstaben \\[0.2cm]
      \hspace*{1.3cm} ``$x$'', ``$y$'' und ``$z$''.
\item Als \emph{Funktions-Zeichen} verwenden wir die Wörter \\[0.2cm]
      \hspace*{1.3cm} ``\texttt{vater}'' und ``\texttt{mutter}''. \\[0.2cm]
      Diese beiden Funktions-Zeichen sind einstellig. 
\item Als \emph{Prädikats-Zeichen} verwenden wir die Wörter \\[0.2cm]
      \hspace*{1.3cm} ``\texttt{bruder}'', ``\texttt{schwester}'', ``\texttt{onkel}'',
      ``\texttt{männlich}'' und ``\texttt{weiblich}''. \\[0.2cm]
      Alle diese Prädikats-Zeichen sind zweistellig.  Als weiteres zweisteliges
      Prädikats-Zeichen verwenden wir das Gleichheits-Zeichen ``$=$''.
\end{enumerate}
Eine solche Ansammlung von Konstanten,
Variablen, Funktions-Zeichen und Prädikats-Zeichen bezeichen wir auch als
\emph{Signatur}.  Wir geben zunächst einige Terme an, die sich mit dieser Signatur
bilden lassen:
\begin{enumerate}
\item ``\texttt{kain}'' ist ein Term, denn ``\texttt{kain}'' ist eine Konstante.
\item ``$\mathtt{vater}(\mathtt{kain})$'' ist ein Term, denn ``\texttt{kain}''
      ist ein Term und ``\texttt{vater}'' ist ein einstelliges Funktions-Zeichen.
\item ``$\mathtt{mutter}\bigl(\mathtt{vater}(\mathtt{kain})\bigr)$'' ist ein Term, denn ``$\mathtt{vater}(\mathtt{kain})$'' ist
      ein Term und ``\texttt{mutter}'' ist ein einstelliges Funktions-Zeichen,
\item ``$\texttt{männlich}(\mathtt{kain})$'' ist eine Formel, denn
      ``\texttt{kain}'' ist ein Term und
      ``\texttt{männlich}'' ist ein einstelliges Prädikats-Zeichen.
\item ``$\texttt{männlich}(\mathtt{lisa})$'' ist ebenfalls eine Formel, denn
      ``\texttt{lisa}'' ist ein Term. 

      Dieses Beispiel zeigt, dass Formeln durchaus auch falsch sein können.  Die bisher
      gezeigten Formeln sind alle atomar.  Wir geben nun Beispiele für zusammengesetzte
      Formeln.
\item ``$\mathtt{vater}(x) = \mathtt{vater}(y) \wedge \mathtt{mutter}(x) = \mathtt{mutter}(y)
         \rightarrow       \mathtt{bruder}(x,y) \vee \mathtt{schwester}(x,y)$''
      
      ist eine Formel, die aus den beiden Formeln \\[0.2cm]
      \hspace*{1.3cm}  ``$\mathtt{vater}(x) = \mathtt{vater}(y) \wedge \mathtt{mutter}(x) = \mathtt{mutter}(y)$'' \quad und \\[0.2cm]
      \hspace*{1.3cm}  ``$\mathtt{bruder}(x,y) \vee \mathtt{schwester}(x,y)$'' \\[0.2cm]
      aufgebaut ist.  
\item ``$\forall x\colon \forall y\colon \mathtt{bruder}(x,y) \vee \mathtt{schwester}(x,y)$''   ist eine Formel.
\end{enumerate}
Die Formel Nr.~7 ist intuitiv gesehen falsch. 
Auch die Formel Nr.~6 ist falsch, wenn wir davon ausgehen, dass niemand sein eigener
Bruder ist.
Um die Begriffe ``\emph{wahr}'' und ``\emph{falsch}'' für Formeln streng definieren zu können,
ist es notwendig, die \emph{Interpretation} der verwendeten Signatur festzulegen. 
Anschaulich gesehen definiert eine \emph{Interpretation} die Bedeutung der \emph{Symbole},
also der Konstanten, Funktions- und Prädikats-Zeichen, aus denen die Signatur besteht.
Exakt kann der Begriff aber erst angegeben werden, wenn Hilfsmittel aus der Mengenlehre
zur Verfügung stehen.  Dieser wenden wir uns jetzt zu.

\section{Mengen und Relationen}
Die Mengenlehre ist gegen Ende des 19-ten Jahrhunderts aus dem Bestreben heraus
entstanden, die Mathematik auf eine solide Grundlage zu stellen.  Die Schaffung einer
solchen Grundlage wurde als notwendig erachtet, da der Begriff der Unendlichkeit den
Mathematikern zunehmends Kopfzerbrechen bereitete.

Begründet wurde die Mengenlehre in wesentlichen Teilen von Georg Cantor (1845 -- 1918).
Die erste Definition des Begriffs der Menge lautete etwa wie folgt \cite{cantor:1895}:
\begin{center}
Eine \emph{Menge} ist eine \emph{wohldefinierte} Ansammlung unterscheidbarer Objekte zu
  einem Ganzen.
\end{center}
Das Attribut ``\emph{wohldefiniert}'' drückt dabei aus, dass wir für 
eine vorgegebene Menge $M$ und ein Objekt $x$ stets klar sein muss, ob das Objekt $x$
zu der Menge $M$ gehört oder nicht.  In diesem Fall schreiben wir \\[0.2cm]
\hspace*{1.3cm} $x \in M$ \\[0.2cm]
und lesen diese Formel als ``\emph{$x$ ist ein \underline{Element} der Menge $M$}''.
Das Zeichen ``$\in$'' wird in der Mengenlehre also als zweisteliges Prädikats-Zeichen
gebraucht, für das sich eine Infix-Notation eingebürgert hat.
Um den Begriff der Menge mathematisch zu
präzisieren, führte Cantor das sogenannte \emph{Komprehensions-Axiom} ein.
Wir können dieses zunächst wie folgt formalisieren: Ist $p(x)$ eine Eigenschaft, die
ein Objekt $x$ entweder hat oder nicht, so können wir die Menge $M$ aller Objekte, welche die
Eigenschaft $p(x)$ haben, bilden.  Wie schreiben dann \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \;|\; p(x) \}$ \\[0.2cm]
und lesen dies als ``$M$ ist die Menge aller $x$, auf welche die Eigenschaft $p(x)$ zutrifft''.
Eine Eigenschaft $p(x)$ ist dabei nichts anderes als eine Formel, in der die Variable $x$
vorkommt.
Wir veranschaulichen das Komprehensions-Axiom durch ein Beispiel:  Es sei $\mathbb{N}$
die Menge der natürlichen Zahlen. Ausgehend von der Menge $\mathbb{N}$  wollen wir die
Menge der \emph{geraden Zahlen} definieren. Zunächst müssen wir dazu die Eigenschaft einer
Zahl $x$,
\emph{gerade} zu sein, durch eine Formel $p(x)$ mathematisch erfassen.  Eine natürliche Zahl $x$ ist
genau dann gerade, wenn es eine natürliche Zahl $y$ gibt, so dass $x$ das Doppelte von $y$
ist.  Damit können wir die Eigenschaft $p(x)$ folgendermaßen
definieren: \\[0.2cm]
\hspace*{1.3cm} $p(x) \;:=\; (\exists y\in \mathbb{N}: x = 2 \cdot y)$. \\[0.2cm]
Also kann die Menge der geraden Zahlen als \\[0.2cm]
\hspace*{1.3cm} $\{ x \;|\; \exists y\in \mathbb{N}: x = 2 \cdot y \}$ \\[0.2cm]
geschrieben werden.

Leider führt die uneingeschränkte Anwendung des Komprehensions-Axiom schnell zu
Problemen.  Betrachten wir dazu die Eigenschaft einer Menge, sich nicht selbst zu enthalten, wir
setzen also $p(x) := \neg\; x \in x$ und definieren die Menge $R$ als \\[0.2cm]
\hspace*{1.3cm} $R := \{ x \;|\; \neg\; x \in x \}$.  \\[0.2cm]
Intuitiv würden wir vielleicht erwarten, dass keine Menge sich selbst enthält.  Wir wollen
jetzt zunächst für die eben definierte Menge $R$ überprüfen, wie die Dinge liegen.
Es können zwei Fälle auftreten:
\begin{enumerate}
\item Fall: $\neg\; R \in R$. Also enthält die Menge $R$ sich nicht selbst.
      Da die Menge $R$ aber als die Menge der Mengen definiert ist, die sich nicht selber
      enthalten, müsste $R$ eine Element von $R$ sein, es müsste also
      $R \in R$ gelten im Widerspruch zur Voraussetzung $\neg\; R \in R$.
\item Fall: $R \in R$. Setzen wir hier die Definition von $R$ ein, so haben wir \\[0.2cm]
      \hspace*{1.3cm}  $R \in \{ x \;|\; \neg\; x \in x \}$. \\[0.2cm]
      Dass heißt dann aber gerade $\neg\; R \in R$ und steht im Widerspruch zur
      Voraussetzung $R \in R$.
\end{enumerate}
Wie wir es auch drehen und wenden, es kann weder $R \in R$ noch $\neg\; R \in R$ gelten. 
Als Ausweg können wir nur feststellen, dass das vermittels \\[0.2cm]
\hspace*{1.3cm} $\{ x \mid \neg\; x \in x \}$ \\[0.2cm]
definierte Objekt keine Menge ist.
Das heißt dann aber, dass das Komprehensions-Axiom
zu allgemein ist.  Wir folgern, dass nicht jede  in der Form \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid p(x) \}$ \\[0.2cm]
angegebene Menge  existiert.  Die Konstruktion der ``Menge''
$\{x \mid \neg\; x \in x\}$ stammt von dem britischen Logiker und Philosophen Bertrand
Russell (1872 -- 1970).  Sie wird deswegen auch als \emph{Russell'sche Antinomie} bezeichnet.


Um  Paradoxien wie die Russell'sche Antinomie  zu vermeiden, ist es erforderlich, bei der
Konstruktion von Mengen vorsichtiger vorzugehen.
Wir werden im Folgenden Konstruktions-Prinzipien für Mengen vorstellen,
die schwächer sind als das Komprehensions-Axiom, die aber für die Praxis der Informatik
ausreichend sind.  Wir wollen dabei die dem Komprehensions-Axiom zugrunde liegende Notation 
beibehalten und Mengendefinitionen in der Form \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid p(x) \}$  \\[0.2cm]
angeben.  Um Paradoxien zu vermeiden, werden wir nur bestimmte
Sonderfälle dieser Gleichung zulassen.  Diese Sonderfälle, sowie weitere Möglichkeiten
Mengen zu konstruieren, stellen wir jetzt vor.

\subsection{Erzeugung von Mengen durch explizites Auflisten}
Die einfachste Möglichkeit, eine Menge festzulegen, besteht in der expliziten
\emph{Auflistung} aller ihrer Elemente. Diese Elemente werden in den geschweiften
Klammern ``\texttt{\{}'' und ``\texttt{\}}'' eingefasst und durch Kommas getrennt.
Definieren wir beispielsweise \\[0.2cm]
\hspace*{1.3cm} $M := \{ 1, 2, 3 \}$, \\[0.2cm]
so haben wir damit festgelegt, dass die Menge $M$ aus den Elementen $1$, $2$ und $3$
besteht. In der Schreibweise des Komprehensions-Axioms können wir diese Menge als \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid x = 1 \vee x = 2 \vee x = 3 \}$ \\[0.2cm]
angeben.

Als ein weiteres Beispiel für eine Menge, die durch explizite Aufzählung ihrer Elemente
angegeben werden kannn, betrachten wir die Menge $B$ der kleinen lateinischen Buchstaben, die wir als \\[0.2cm]
\hspace*{1.3cm} 
$B := \{\mathtt{a}, \mathtt{b}, \mathtt{c}, \mathtt{d}, \mathtt{e},
 \mathtt{f}, \mathtt{g}, \mathtt{h}, \mathtt{i}, \mathtt{j}, \mathtt{k}, \mathtt{l},
 \mathtt{m}, \mathtt{n}, \mathtt{o}, \mathtt{p}, \mathtt{q}, \mathtt{r}, \mathtt{s},
 \mathtt{t}, \mathtt{u}, \mathtt{v}, \mathtt{w}, \mathtt{x}, \mathtt{y}, \mathtt{z\}}$.
\\[0.2cm]
definieren können.

\subsection{Die Menge der natürlichen Zahlen}
Alle durch explizite Auflistung definierten Mengen haben offensichtlich nur endlich viele
Elemente.  Aus der mathematischen Praxis kennen wir aber auch Mengen mit unendlich vielen
Elementen.  Ein Beispiel ist die Menge der natürlichen Zahlen, die wir mit $\mathbb{N}$
bezeichnen.  Mit den bisher behandelten Verfahren lässt diese Menge sich nicht definieren.
Wir müssen daher die Existenz dieser Menge als Axiom fordern.  Intuitiv schreiben wir 
\\[0.2cm]
\hspace*{1.3cm} 
$\mathbb{N} := \{ 0, 1, 2, 3, \cdots \}$. 
\\[0.2cm]
Eine exakte Definition ist das aber nicht.  Die Menge $\mathbb{N}$ der
natürlichen Zahlen kann exakt wie folgt definiert werden:
Die Menge $\mathbb{N}$ der natürlichen Zahlen ist die kleinste Menge, für die Folgendes
gilt:
\begin{enumerate}
\item $0 \in \mathbb{N}$,
\item $\forall n: n \in \mathbb{N} \rightarrow (n + 1) \in \mathbb{N}$.
\end{enumerate}
Eine Definition der obigen Form wird als \emph{induktive} Definition bezeichnet.

Neben der Menge $\mathbb{N}$ der natürlichen Zahlen verwenden wir noch die folgenden
Mengen von Zahlen: 
\begin{enumerate}
\item $\mathbb{Z}$: Menge der ganzen Zahlen.
\item $\mathbb{Q}$: Menge der rationalen Zahlen.
\item $\mathbb{R}$: Menge der reellen Zahlen.
\end{enumerate}
In der Mathematik wird gezeigt, wie sich diese Mengen aus der Menge der natürlichen Zahlen
erzeugen lassen.

\subsection{Das Auswahl-Prinzip}
Das \emph{Auswahl-Prinzip} ist eine Abschwächung des Komprehensions-Axiom.  Die Idee
ist, mit Hilfe einer Eigenschaft $p$ aus einer schon \underline{vorhandenen} Menge $M$ die
Menge $N$ der  
Elemente $x$ \emph{auszuwählen}, die eine bestimmte Eigenschaft $p(x)$ besitzen: \\[0.2cm]
\hspace*{1.3cm} $N = \{ x\in M \;|\; p(x) \}$ \\[0.2cm]
In der Notation des Komprehensions-Axioms schreibt sich diese Menge als \\[0.2cm]
\hspace*{1.3cm} $N = \{ x \mid x \in M \wedge p(x) \}$. \\[0.2cm]
Im Unterschied zu dem Komprehensions-Axiom können wir uns hier nur auf die Elemente einer
bereits vorgegebenen Menge $M$ beziehen und \underline{nicht} auf völlig beliebige Objekte.

\example
Die Menge der geraden Zahlen kann mit dem Auswahl-Prinzip wie folgt definiert werden: \\[0.2cm]
\hspace*{1.3cm} $\{ x \in \mathbb{N} \;|\; \exists y\in \mathbb{N}: x = 2 \cdot y \}$.  \eox

\subsection{Vereinigungs-Mengen}
Sind zwei Mengen $M$ und $N$ gegeben, so enthält die Vereinigung von $M$ und $N$ alle Elemente, die 
 in der Menge $M$ oder in der Menge $N$ liegen.  Für diese Vereinigung schreiben wir $M \cup N$.
Formal kann die Vereinigung wie folgt definiert werden: \\[0.2cm]
\hspace*{1.3cm} $M \cup N := \{ x \;|\; x \in M \vee x \in N \}$. 
\vspace{0.2cm}

\example
Ist  $M = \{1,2,3\}$ und $N = \{2,5\}$, so gilt: \\[0.2cm]
\hspace*{1.3cm} $\{1,2,3\} \cup \{2,5\} = \{1,2,3,5\}$. 
\eox
\vspace{0.2cm}

\noindent
Der Begriff der Vereinigung von Mengen lässt sich verallgemeinern.  Betrachten
wir dazu eine Menge $X$, deren Elemente selbst wieder Mengen sind. Beispielsweise ist die 
später betrachtete Potenz-Menge 
einer Menge von dieser Art.  Wir können dann die Vereinigung aller Mengen, die Elemente
von der Menge $X$ sind, bilden.  Diese Vereinigung schreiben wir als $\bigcup X$.  Formal
kann das wie folgt definiert werden: \\[0.2cm]
\hspace*{1.3cm} $\bigcup X = \{ y \;|\; \exists x \in X: y \in x \}$.

\example
Die Menge $X$ sei wie folgt gegeben: \\[0.2cm]
\hspace*{1.3cm} $X = \big\{ \{\},\, \{1,2\}, \, \{1,3,5\}, \, \{7,4\}\,\big\}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm} $\bigcup X = \{ 1, 2, 3, 4, 5, 7 \}$.
\eox

\subsection{Schnitt-Menge}
Sind zwei Mengen $M$ und $N$ gegeben, so definieren wir den \emph{Schnitt} von
$M$ und $N$ als die Menge aller Elemente, die sowohl in $M$ als auch in $N$
auftreten.  Wir bezeichen den Schnitt von $M$ und $N$ mit $M \cap N$.
Formal können wir $M \cap N$ wie folgt definieren: \\[0.2cm]
\hspace*{1.3cm} $M \cap N := \{ x \mid x \in M \wedge x \in N \}$. 

\example
Wir berechnen den Schnitt der  Mengen $M = \{ 1, 3, 5 \}$ und $N = \{ 2, 3, 5, 6 \}$.  Es gilt
\\[0.2cm]
\hspace*{1.3cm} $M \cap N = \{ 3, 5 \}$.
\eox
\vspace{0.2cm}

\noindent
Der Begriff der Schnitt-Menge von zwei Mengen lässt sich verallgemeinern.  Betrachten
wir dazu eine Menge $X$, deren Elemente selbst wieder Mengen sind.  Wir können dann den
Schnitt aller Mengen, die Elemente von der Menge $X$ sind, bilden.  Diese Vereinigung
schreiben wir als $\bigcap X$.  Formal kann das wie folgt definiert werden: \\[0.2cm]
\hspace*{1.3cm} $\bigcap X = \{ y \;|\; \forall x \in X: y \in x \}$.

\example
Die Menge $X$ sei gegeben als
\\[0.2cm]
\hspace*{1.3cm}
$X = \bigl\{ \{ 1, 2, 3 \}, \{ 2, 3, 4 \}, \{ 1, 3, 5 \} \bigr\}$. 
\\[0.2cm]
Dann gilt $\bigcap X = \{ 3 \}$.  \eox

\subsection{Differenz-Mengen}
 Sind zwei Mengen $M$ und $N$ gegeben, so bezeichen wir die \emph{Differenz} von
 $M$ und $N$ als die Menge aller Elemente, die in $M$ aber nicht $N$
 auftreten.  Wir schreiben hierfür $M \backslash N$.  Das wird als $M$ \emph{ohne} $N$
gelesen und kann formal wie folgt definiert werden: 
\\[0.2cm]
\hspace*{1.3cm} $M \backslash N := \{ x \mid x \in M \wedge x \not\in N \}$. 
\\[0.2cm]
Hier haben wir die Notation $x \not\in N$ als Kurzschreibweise für die Formel $\neg\, x \in N$ 
verwendet.
\pagebreak


\example
Wir berechnen die Differenz der Mengen $M = \{ 1, 3, 5, 7 \}$ und $N = \{ 2, 3, 5, 6 \}$.  Es gilt
\\[0.2cm]
\hspace*{1.3cm}
$M \backslash N = \{ 1, 7 \}$. \eox


\subsection{Potenz-Mengen}
Um den Begriff der \emph{Potenz-Menge} einführen zu können, müssen wir zunächst 
\emph{Teilmengen} definieren.  Sind $M$ und $N$ zwei Mengen, so heißt $M$ eine
\emph{Teilmenge} von $N$ genau dann, wenn jedes Element der Menge $M$ auch ein Element der
Menge $N$ ist.  In diesem Fall schreiben wir $M \subseteq N$.  Formal können wir den
Begriff der Teilmenge also wie folgt einführen: \\[0.2cm]
\hspace*{1.3cm} $M \subseteq N \;\stackrel{de\!f}{\Longleftrightarrow}\; \forall x: (x \in M \rightarrow x \in N)$ \\[0.2cm]
Unter der \emph{Potenz-Menge} einer Menge $M$ wollen wir nun die Menge aller Teilmengen
von $M$ verstehen.  Wir schreiben $2^M$ für die Potenz-Menge von $M$.  Dann gilt: \\[0.2cm]
\hspace*{1.3cm} $2^M = \{ x \;|\; x \subseteq M \}$.

\example
Wir bilden  die Potenz-Menge der Menge $\{1,2,3\}$.  Es gilt: \\[0.2cm]
\hspace*{1.3cm} $2^{\{1,2,3\}} = \big\{ \{\},\, \{1\}, \, \{2\},\, \{3\},\, \{1,2\}, \, \{1,3\}, \, \{2,3\},\, \{1,2,3\}\big\}$. \\[0.2cm]
Diese Menge hat $8 = 2^3$ Elemente.  Allgemein kann durch Induktion nach der Anzahl $n$ der
Elemente der Menge $M$ gezeigt werden, dass die 
Potenz-Menge einer Menge $M$, die aus $n$ verschiedenen Elementen besteht, insgesamt $2^n$ 
Elemente enthält.  Bezeichnen wir die Anzahl der Elemente einer endlichen Menge mit
$\textsl{card}(M)$, so gilt also
\begin{equation}
  \label{eq:cardPower}
\textsl{card}\left(2^M\right) = 2^{\textsl{card}(M)}.  
\end{equation}
Dies erklärt die Schreibweise $2^M$ für die Potenz-Menge von $M$.  Wir beweisen die
Gültigkeit der Gleichung \ref{eq:cardPower} durch vollständige Induktion nach $n =
\textsl{card}(M)$:
\begin{enumerate}
\item[I.A.:] $n = 0$

     Aus $n = \textsl{card}(M) = 0$ folgt, dass die Menge $M$ leer sein muss: $M = \{\}$.
     Damit haben wir
     \\[0.2cm]
     \hspace*{1.3cm}
     $\textsl{card}\left(2^{\{\}}\right) = \textsl{card}\left(\bigl\{ \{\} \bigr\}\right)
       = 1 = 2^0 = 2^{\textsl{card}(\{\})}
     $
     \\[0.2cm]
     und damit ist die Behauptung im Fall $n = 0$ nachgewiesen.
\item[I.S.:] $n \mapsto n + 1$

     Falls die Menge $M$ aus $n+1$ Elementen besteht, können wir $M$ in der Form
     \\[0.2cm]
     \hspace*{1.3cm}
     $M = A \cup \{ b \}$
     \\[0.2cm]
     schreiben, wobei $A$ eine Menge mit $n$ Elementen ist und $b$ das $(n+1)$-te Element
     von $M$ ist und damit das Element aus $M$ ist, dass nicht bereits in der Teilmenge
     $A$ enthalten ist. 
     Für eine Teilmenge $C \subseteq M$ gibt es nun zwei sich ausschließende Möglichkeiten:  
     \begin{enumerate}
     \item $b \not\in C$.
       
           In diesem Fall ist $C$ bereits eine Teilmenge von $A$.
     \item $b \in C$.

           Dann ist $C$ keine Teilmenge von $A$, aber $C$ lässt sich dann in der Form 
           \\[0.2cm]
           \hspace*{1.3cm}
           $C = D \cup \{ b \}$  \quad mit $D \subseteq A$
           \\[0.2cm]
           schreiben.
     \end{enumerate}
     Insgesamt können wir daher die Potenz-Menge $2^M$ in zwei Teile zerlegen:
     \\[0.2cm]
     \hspace*{1.3cm}
     $2^M = 2^A \cup \bigl\{ D \cup \{ b \} \mid D \in 2^A \bigr\}$.
     \\[0.2cm]
     Diese beiden Teilmengen haben offenbar gleich viele Elemente und daher gilt
     \\[0.2cm]
     \hspace*{1.3cm}
     $
     \begin{array}[b]{lcl}
          \textsl{card}\left(2^M\right) & = &
          \textsl{card}\left(2^A\right) \cup \textsl{card}\left(\bigl\{ D \cup \{ b \} \mid D \in 2^A \bigr\}\right) \\[0.1cm]
     & = & \textsl{card}\left(2^A\right) + \textsl{card}\left(2^A\right) \\[0.1cm]
     & = & 2 \cdot \textsl{card}\left(2^A\right) \\[0.1cm]
     & \stackrel{\mbox{\scriptsize IV}}{=} & 2 \cdot 2^{\textsl{card}(A)} \\[0.1cm]
     & = & 2 \cdot 2^{n} \\[0.1cm]
     & = & 2^{n+1} \\[0.1cm]
     & = & 2^{\textsl{card}(M)}.  
     \end{array}
     $ 
      \\[0.2cm]
      Hier haben wir bei der mit IV markierten Gleichung aussgenutzt, dass wir nach
      Induktions-Voraussetzung bereits wissen, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\textsl{card}\left(2^A\right) = 2^{\textsl{card}(A)}$
      \\[0.2cm]
      gilt, denn die Menge $A$ enthält ja nur $n$ Elemente.  \qed
\end{enumerate}


\subsection{Bild-Mengen}
Es sei $M$ eine Menge und $f$ sei eine Funktion, die für alle $x$ aus $M$ definiert ist.
Dann heißt die Menge aller Abbilder $f(x)$ von Elementen $x$ aus der Menge $M$ das
\emph{Bild} von $M$ unter $f$.  Wir schreiben $f(M)$ für dieses Bild.
Formal kann $f(M)$ wie folgt definiert werden: 
 \[ f(M) := \{ y \;|\; \exists x \in M: y = f(x) \}. \]
In der Literatur findet sich für die obige Menge auch die Schreibweise
\[ f(M) = \bigl\{ f(x) \;|\; x \in M \}. \]

\example
Die Menge $Q$ aller Quadrat-Zahlen kann wie folgt definiert werden: 
\[ Q := \{ y \mid \exists x \in \mathbb{N}: y = x^2\}. \]
Alternativ können wir auch schreiben
\\[0.2cm]
\hspace*{1.3cm}
$Q = \bigl\{ x^2 \mid x \in \mathbb{N} \bigr\}$. 
\eox

\subsection{Kartesische Produkte}
Zur Einführung von Relationen und kartesischen Produkten benötigen wir den Begriff
des \emph{geordneten Paares} zweier Objekte $x$ und $y$.  Dieses wird  als \\[0.2cm]
\hspace*{1.3cm} $\langle x, y \rangle$ \\[0.2cm]
geschrieben.  Wir sagen, dass $x$ die \emph{erste Komponente} des Paares $\langle x, y \rangle$ ist, 
und $y$ ist die \emph{zweite Komponente}.  Zwei geordnete Paare $\langle x_1, y_1 \rangle$ und $\langle x_2, y_2 \rangle$
sind genau dann gleich, wenn sie komponentenweise gleich sind, d.h.~es gilt \\[0.2cm]
\hspace*{1.3cm} $\langle x_1, y_1 \rangle \,=\,\langle x_2, y_2 \rangle  \;\Leftrightarrow\; x_1 = x_2 \wedge y_1 = y_2$. \\[0.2cm]
Das kartesische Produkt zweier Mengen $M$ und $N$ ist nun die Menge aller geordneten
Paare, deren erste Komponente in $M$ liegt und deren zweite Komponente in $N$ liegt.
Das kartesische Produkt von $M$ und $N$ wird als $M \times N$ geschrieben, formal gilt: 
\[ M \times N := \big\{ z \mid \exists x\colon \exists y\colon z = \langle x,y\rangle \wedge x\in M \wedge y \in N \}. \]
Alternativ können wir auch schreiben
\[ M \times N := \big\{ \langle x,y\rangle \mid  x\in M \wedge y \in N \}. \]

\example
 Wir setzen $M = \{ 1, 2, 3 \}$ und $N = \{ 5, 7 \}$. Dann gilt\\[0.2cm]
\hspace*{1.3cm} 
$M \times N = \bigl\{ \pair(1,5),\pair(2,5),\pair(3,5),\pair(1,7),\pair(2,7),\pair(3,7)\bigr\}$.
\eox

\remark
Sind $M$ und $N$ endliche Mengen, so gilt für die Anzahl der Elemente des kartesischen
Produkts $M \times N$ die Beziehung
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{card}(M \times N) = \textsl{card}(M) \cdot \textsl{card}(N)$.
\\[0.2cm]
Dieser Umstand erklärt, warum wir hier von einem \emph{Produkt} sprechen.  \eox

Der Begriff des geordneten Paares lässt sich leicht zum Begriff des $n$-Tupels verallgemeinern:
Ein $n$-Tupel hat die Form \\[0.2cm]
\hspace*{1.3cm} $\langle x_1, x_2, \cdots, x_n \rangle$. \\[0.2cm]
Analog kann auch der Begriff des kartesischen Produktes auf $n$ Mengen $M_1$, $\cdots$, $M_n$
verallgemeinert werden. Das sieht dann so aus: \\[0.2cm]
\hspace*{1.3cm} $M_1 \times \cdots \times M_n =\big\{ z \mid \exists x_1\colon
\cdots \exists x_n \colon \; z = \langle x_1,x_2,\cdots,x_n \rangle \wedge x_1
\in M_1 \wedge \cdots \wedge x_n \in M_n \big\}$. \\[0.2cm]
Ist $f$ eine Funktion, die auf $M_1 \times \cdots \times M_n$ definiert ist,
so vereinbaren wir folgende Vereinfachung der Schreibweise:
\\[0.2cm]
\hspace*{1.3cm} 
$f(x_1, \cdots, x_n)$ \quad steht für \quad $f(\langle x_1, \cdots, x_n\rangle)$. 
\\[0.2cm]
Gelegentlich werden $n$-Tupel auch als \emph{endliche Folgen} oder als
\emph{Listen} bezeichnet.  

\subsection{Gleichheit von Mengen}
Wir haben nun alle Verfahren, die wir zur Konstruktion von Mengen benötigen, vorgestellt.
 Wir klären jetzt die Frage, wann zwei Mengen gleich sind.  Dazu
postulieren wir das folgende \emph{Extensionalitäts-Axiom} für Mengen: 
\begin{center}
 {\sl Zwei Mengen sind genau dann gleich, wenn sie dieselben Elemente besitzen.}
\end{center}
Mathematisch können wir diesen Sachverhalt wie folgt ausdrücken: \\[0.2cm]
\hspace*{1.3cm} $M = N \;\leftrightarrow\; \forall x: (x \in M \leftrightarrow x \in N)$ \\[0.2cm]
Eine wichtige Konsequenz aus diesem Axiom ist die Tatsache, dass die Reihenfolge, mit der
Elemente in einer Menge aufgelistet werden, keine Rolle spielt.  Beispielsweise gilt \\[0.2cm]
\hspace*{1.3cm} $\{1,2,3\} = \{3,2,1\}$, \\[0.2cm]
denn beide Mengen enthalten dieselben Elemente.  Genausowenig spielt es eine Rolle,
wie oft ein Element $x$ in einer Menge vorkommt:  Beispielsweise haben wir
\\[0.2cm]
\hspace*{1.3cm}
$\{3,1,3,2,3\} = \{1,2,3\}$,
\\[0.2cm]
denn beide Mengen enthalten die gleichen Elemente. 

Falls Mengen durch explizite Aufzählung ihrer Elemente definiert sind, ist die Frage nach
der Gleichheit zweier Mengen trivial.  Ist eine der Mengen mit Hilfe des Auswahl-Prinzips definiert, so
kann es beliebig schwierig sein zu entscheiden, ob zwei Mengen gleich sind.  Hierzu ein
Beispiel:  Es lässt sich zeigen, dass \\[0.2cm]
\hspace*{1.3cm} 
$\{ n \in \mathbb{N} \mid \exists x, y, z\in\mathbb{N}: x > 0 \wedge y > 0 \wedge x^n + y^n = z^n \} 
= \{1,2\}$ \\[0.2cm]
gilt.  Allerdings ist der Nachweis dieser Gleichheit sehr schwer, denn er ist äquivalent
zum Beweis der \emph{Fermat'schen Vermutung}. Diese Vermutung wurde 1637
von {\sl Pierre de Fermat} aufgestellt und konnte erst 1995 von Andrew Wiles bewiesen werden.
Es gibt andere, ähnlich aufgebaute Mengen, wo bis heute unklar ist, welche Elemente in der
Menge liegen und welche nicht.



\subsection{Rechenregeln für das Arbeiten mit Mengen}
 Vereinigungs-Menge,  Schnitt-Menge und die Differenz zweier Mengen genügen Gesetzmäßigkeiten, 
die in den folgenden Gleichungen zusammengefasst sind.  Bevor wir diese Gesetze angeben, vereinbaren wir noch,
die leere Menge $\{\}$ mit $\emptyset$ zu bezeichnen. 
Damit haben wir die folgenden Gesetze:
\\[0.2cm]
$\begin{array}{rlcl}
\quad 1. & M \cup \emptyset = M         & \hspace*{0.1cm} & M \cap \emptyset = \emptyset \\
2. & M \cup M = M         & \hspace*{0.1cm} & M \cap M = M          \\
3. & M \cup N = N \cup M  &  & M \cap N = N \cap M  \\
4. & (K \cup M) \cup N = K \cup (M \cup N) &  & (K \cap M) \cap N = K \cap (M \cap N) \\
5. & (K \cup M) \cap N = (K \cap N) \cup (M \cap N) &  & (K \cap M) \cup N = (K \cup N) \cap (M \cup N)  \\
6. & M \backslash \emptyset = M & & M \backslash M = \emptyset \\
7. & K \backslash (M \cup N) = (K \backslash M) \cap (K \backslash N) &&
     K \backslash (M \cap N) = (K \backslash M) \cup (K \backslash N) \\
8. & (K \cup M) \backslash N = (K \backslash N) \cup (M \backslash N) &&
     (K \cap M) \backslash N = (K \backslash N) \cap (M \backslash N) \\
9. & K \backslash (M \backslash N) = (K \backslash M) \cup (K \cap N) &&
     (K \backslash M) \backslash N = K \backslash (M \cup N) \\
10. & M \cup (N \backslash M) = M \cup N &&
      M \cap (N \backslash M) = \emptyset  \\
11. & M \cup (M \cap N) = M  &&
      M \cap (M \cup N) = M 

\end{array}$
\\[0.3cm]
Wir beweisen exemplarisch die Gleichung $K \backslash (M \cup N) = (K \backslash M) \cap (K \backslash N)$.
Um die Gleichheit zweier Mengen zu zeigen ist nachzweisen, dass beide Mengen dieselben Elemente enthalten.
Wir haben die folgende Kette von Äquivalenzen: \\[0.3cm]
\hspace*{1.3cm} $
\begin{array}{ll}
                & x \in K \backslash (M \cup N)        \\
\leftrightarrow & x \in K \;\wedge\; \neg\; x \in M \cup N \\
\leftrightarrow & x \in K \;\wedge\; \neg\; (x \in M \vee x \in N) \\
\leftrightarrow & x \in K \;\wedge\;  (\neg\; x \in M) \wedge (\neg\; x \in N) \\
\leftrightarrow & (x \in K \wedge \neg\;x \in M) \;\wedge\; (x \in K \wedge \neg\;x \in N) \\
\leftrightarrow & (x \in K \backslash M) \;\wedge\; (x \in K \backslash N) \\
\leftrightarrow & x \in (K \backslash M) \cap (K \backslash N). \\
\end{array}$ \\[0.3cm]
Die übrigen Gleichungen können nach dem selben Schema hergeleitet werden.

\noindent
Zur Vereinfachung der Darstellung von Beweisen vereinbaren wir die folgende Schreibweise:
Ist $M$ eine Menge und $x$ ein Objekt, so schreiben wir $x \notin M$  für
die Formel $\neg\; x \in M$, formal: \\[0.2cm]
\hspace*{1.3cm} $x \notin M \;\stackrel{de\!f}{\Longleftrightarrow}\; \neg\; x \in M$.
\\[0.2cm]
Eine analoge Notation verwenden wir auch für das Gleichheitszeichen:
\\[0.2cm]
\hspace*{1.3cm} 
$x \not= y \;\stackrel{de\!f}{\Longleftrightarrow}\; \neg\; (x = y)$.

\section{Binäre Relationen}
Relationen treten in der Informatik an vielen Stellen auf.  Die wichtigste
Anwendung findet sich in der Theorie der relationalen Datenbanken.
Wir betrachten im Folgenden den Spezialfall der \emph{binären Relationen} und beleuchten
das Verhältnis von binären Relationen und Funktionen. Wir werden sehen, dass wir
Funktionen als spezielle binäre Relationen auffassen können.  Damit stellt der Begriff der
binären Relationen eine Verallgemeinerung des Funktions-Begriffs dar.

Zum Abschluss des Kapitels führen wir \emph{transitive Relationen} und
\emph{Äquivalenz-Relationen} ein.  Einerseits sind dies grundlegende Konzepte, die jeder Informatiker
kennen muss, andererseits werden wir schon nächsten Kapitel mit Hilfe transitiver Ralationen
interessante Suchprobleme lösen können.


\subsection{Binäre Relationen und Funktionen}
Ist eine Menge $R$ als Teilmenge des kartesischen Produkts zweier Mengen $M$ und $N$ gegeben, gilt
also \\[0.2cm]
\hspace*{1.3cm} $R \subseteq M \times N$, \\[0.2cm]
so bezeichnen wir $R$ auch als \emph{binäre Relation}.  In diesem Fall definieren wir den
\emph{Definitions-Bereich} von $R$ als \\[0.2cm]
\hspace*{1.3cm} $\dom(R) := \{ x \mid \exists y \in N \colon \langle x, y \rangle \in R \}$.  
\\[0.2cm]
Entsprechend wird der \emph{Werte-Bereich} von $R$ als \\[0.2cm]
\hspace*{1.3cm} $\rng(R) := \{ y \mid \exists x \in M \colon \langle x, y \rangle \in R\}$ \\[0.2cm]
definiert.  

\example
 Es sei $R = \{ \pair(1,1), \pair(2,4), \pair(3,9) \}$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm} $\dom(R) = \{1,2,3\}$ \quad und \quad $\rng(R) = \{1,4,9\}$. \qed
\next

\noindent
Das nächste, stark vereinfachte Beispiel gibt einen Vorgeschmack von der Bedeutung binärer
Relationen in der Theorie der \emph{relationalen Datenbanken}.

\example
Ein Autoverkäufer speichert in seiner Datenbank, welcher Kunde welches Auto gekauft hat.
Nehmen wir an, dass die Mengen \textsl{Auto} und \textsl{Kunde} wie folgt gegeben sind:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Kunde} = \{ \mathrm{Bauer}, \mathrm{Maier}, \mathrm{Schmidt} \}$
\quad und \quad
$\textsl{Auto} = \{ \mathrm{Polo}, \mathrm{Fox}, \mathrm{Golf} \}$.
\\[0.2cm]
Dann könnte die binäre Relation 
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Verkauf} \subseteq \textsl{Kunde} \times \textsl{Auto}$
\\[0.2cm]
beispielsweise durch die folgende Menge gegeben sein:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Verkauf} = \{ \pair(\mathrm{Bauer}, \mathrm{Golf}), \pair(\mathrm{Bauer}, \mathrm{Fox}), \pair(\mathrm{Schmidt}, \mathrm{Polo})\}$.
\\[0.2cm]
Die Relation $\textsl{Verkauf}$ drückt aus, dass der Kunde Bauer einen Golf und einen Fox erworben
hat, der Kunde Schmidt hat einen Polo gekauft und Maier hat bisher noch kein Auto erworben.
In der Theorie der Datenbanken werden Relationen üblicherweise in Form von Tabellen
dargestellt. Die oben angegebene Relation hätte dann die folgende Form:
\begin{center}
  \begin{tabular}[c]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\end{center}
Die oberste Zeile, in der wir die Spalten-Überschriften \textsl{Kunde} und \textsl{Auto}
angeben,  gehört selbst nicht zu der Relation, sondern wird als \emph{Relationen-Schema}
bezeichnet und die Relation zusammen mit ihrem Relationen-Schema nennen wir \emph{Tabelle}.  


\paragraph{Links- und Rechts-Eindeutige Relationen}
Wir nennen eine Relation $R \subseteq M \times N$ 
\emph{rechts-eindeutig}, wenn folgendes gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x \el M \colon \forall y_1, y_2 \el N \colon \bigl(\langle x, y_1 \rangle \in R \wedge \langle x, y_2 \rangle \in R \rightarrow y_1 = y_2\bigr)$.
\\[0.2cm]
Bei einer rechts-eindeutigen Relation $R \subseteq M \times N$ gibt es also zu jedem $x\in M$ höchstens ein $y \in N$ so,
dass $\langle x, y \rangle \in R$ gilt.  Entsprechend nennen wir eine Relation $R \subseteq M \times N$ 
\emph{links-eindeutig}, wenn gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall y \el N \colon \forall x_1, x_2 \el M \colon \bigl(\langle x_1, y \rangle \in R \wedge \langle x_2, y \rangle \in R \rightarrow x_1 = x_2\bigr)$.
\\[0.2cm]
Bei einer links-eindeutigen Relation $R \subseteq M \times N$ 
gibt es also zu jedem $y\in N$ höchstens ein $x \in M$ so,
dass $\langle x, y \rangle \in R$ gilt.
\vspace{0.2cm}

\examples
Es sei $M = \{1,2,3\}$ und $N = \{4,5,6\}$.
\begin{enumerate}
\item Die Relation $R_1$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_1 = \{ \pair(1,4), \pair(1,6) \}$. \\[0.2cm]
      Diese Relation ist \underline{nicht} rechts-eindeutig, denn  $4 \not= 6$.
      Die Relation ist links-eindeutig, denn die rechten Seiten aller in $R_1$
      auftretenden Tupel sind verschieden.
\item Die Relation $R_2$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_2 = \{ \pair(1,4), \pair(2,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$ auftretenden
      Tupel sind verschieden.  Sie ist auch links-eindeutig, denn die rechten Seiten aller
      in $R_2$ auftretenden Tupel sind verschieden. 
\item Die Relation $R_3$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_3 = \{ \pair(1,4), \pair(2,6), \pair(3,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$       auftretenden
      Tupel sind verschieden.  Sie ist nicht links-eindeutig, denn es gilt
      $\pair(2,6) \el R$ und $\pair(3,6) \el R$, aber $2 \not= 3$.
      \eox
\end{enumerate}

\paragraph{Totale Relationen}
Eine binäre Relation $R \subseteq M \times N$ heißt \emph{links-total auf $M$}, wenn \\[0.2cm]
\hspace*{1.3cm} $\forall x \in M \colon \exists y \in N \colon \pair(x,y) \in R$ \\[0.2cm]
gilt. Dann gibt es für alle $x$ aus der Menge $M$ ein $y$ aus der Menge $N$, so dass
$\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem obigen Beispiel ist
links-total, denn jedem Element aus $M$ wird durch $R_3$ ein Element aus $N$ zugeordnet.

Analog nennen wir eine binäre Relation $R \subseteq M \times N$  \emph{rechts-total auf $N$}, wenn \\[0.2cm]
\hspace*{1.3cm} $\forall y \in N \colon \exists x \in M \colon \pair(x,y) \in R$ \\[0.2cm]
gilt. Dann gibt es für alle $y$ aus der Menge $N$ ein $x$ aus der Menge $M$, so dass
$\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem obigen Beispiel ist
nicht rechts-total, denn dem Element $5$ aus $N$ wird durch $R_3$ kein Element aus $M$
zugeordnet, denn für alle $\pair(x,y) \in R_3$ gilt $y \not= 5$.

\paragraph{Funktionale Relationen}
Eine Relation $R \subseteq M \times N$, die sowohl links-total auf $M$ als auch rechts-eindeutig
ist, nennen wir eine \emph{funktionale} Relation auf $M$.  Ist $R \subseteq M \times N$ eine
funktionale Relation, so können wir eine Funktion $f_R\colon M \rightarrow N$ wie folgt
definieren: \\[0.2cm]
\hspace*{1.3cm} $f_R(x) := y \;\stackrel{de\!f}{\Longleftrightarrow}\; \pair(x,y) \in R$. \\[0.2cm]
Diese Definition funktioniert, denn aus der Links-Totalität von $R$ folgt, dass es für
jedes $x\in M$ auch ein $y \in N$ gibt, so dass $\pair(x,y) \in R$ ist.  Aus der
Rechts-Eindeutigkeit von $R$ folgt dann, dass dieses $y$ eindeutig bestimmt ist.
Ist umgekehrt eine Funktion \mbox{$f:M \rightarrow N$} gegeben, so können wir dieser Funktion
eine Relation $\textsl{graph}(f) \subseteq M \times N$ zuordnen, indem wir definieren: 
\[ \textsl{graph}(f) := \bigl\{ \pair(x,f(x)) \mid  x\in M \bigr\}. \]
Die so definierte Relation $\textsl{graph}(f)$ ist links-total, denn die Funktion $f$
berechnet ja für jedes $x \el M$ ein Ergebnis und die Relation ist rechts-eindeutig,
denn die Funktion berechnet ja für ein Argument nicht mehrere verschiedene Ergebnisse.

Aufgrund der gerade diskutierten Korrespondenz zwischen Funktionen und Relationen
werden wir daher im Folgenden alle Funktionen als spezielle binäre Relationen auffassen.
Für die Menge aller Funktionen von $M$ nach $N$ schreiben wir auch $N^M$, genauer
definieren wir
\[ N^M := \{ R \subseteq M \times N \mid \mbox{$R$ funktional}\, \}. \]
Diese Schreibweise erklärt sich wie folgt: Sind $M$ und $N$ endliche Mengen mit $m$
bzw.~$n$ Elementen, so gibt es genau $n^m$ verschiedene Funktionen von $M$ nach $N$, es
gilt also
\[ \textsl{card}\left(N^M\right) = \textsl{card}(N)^{\textsl{card}(M)}. \]
Wir werden daher funktionale Relationen und die entsprechenden Funktionen identifizieren.
Damit ist dann für eine funktionale Relation $R \subseteq M \times N$ und ein $x \in M$
auch die Schreibweise $R(x)$ zulässig: Mit $R(x)$ bezeichnen wir das eindeutig bestimmte $y \in N$,
für das $\pair(x,y) \in R$ gilt.

\examples
\begin{enumerate}
\item Wir setzen $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,4),\pair(3,9) \}$. \\[0.2cm]
      Dann ist $R$ eine funktionale Relation auf $M$.  Diese Relation berechnet
      gerade die Quadrat-Zahlen auf der Menge $M$.
\item Diesmal setzen wir $M = \{1,2,3,4,5,6,7,8,9\}$ und $N = \{1,2,3\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(4,2),\pair(9,3) \}$. \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht links-total auf
      $M$.  Beispielsweise wird das Element $2$ von der Relation $R$ auf kein Element aus 
      $N$ abgebildet.
\item Wir setzen nun  $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,3),\pair(2,4),\pair(3,9) \}$ \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht rechts-eindeutig auf
      $M$.  Beispielsweise wird das Element $2$ von der Relation $R$ sowohl auf $3$ als
      auch auf $4$ abgebildet. \eox
\end{enumerate}
Ist $R \subseteq M \times N$ eine binäre Relation und ist weiter $X \subseteq M$, so
definieren wir das \emph{Bild von $X$ unter $R$} als \\[0.2cm]
\hspace*{1.3cm} $R(X) := \{ y \mid \exists x \in X \colon \pair(x,y) \in R \}$. 

\paragraph{Inverse Relation}
Zu einer  Relation $R \subseteq M \times N$ definieren wir die \emph{inverse} Relation \\
$R^{-1} \subseteq N \times M$ wie folgt: \\[0.2cm]
\hspace*{1.3cm} $R^{-1} := \bigl\{ \pair(y,x) \mid \pair(x,y) \in R  \bigr\}$. \\[0.2cm]
Aus dieser Definition folgt sofort, dass $R^{-1}$ rechts-eindeutig ist genau dann, wenn
$R$ links-eindeutig ist.  Außerdem ist $R^{-1}$ links-total genau dann, wenn $R$
rechts-total ist.  Ist eine Relation sowohl links-eindeutig als auch rechts-eindeutig und
außerdem sowohl links-total als auch rechts-total, so nennen wir sie auch \emph{bijektiv}.
In diesem Fall lässt sich neben der Funktion
$f_R$ auch eine Funktion $f_{R^{-1}}$ definieren.  Die Definition der letzten Funktion
lautet ausgeschrieben: \\[0.2cm]
\hspace*{1.3cm} $f_{R^{-1}}(y) := x \;\stackrel{de\!f}{\Longleftrightarrow}\; \pair(y,x) \in R^{-1} \Longleftrightarrow \pair(x,y) \in R$. \\[0.2cm]
Diese Funktion ist dann aber genau die Umkehr-Funktion von $f_R$, es gilt \\[0.2cm]
\hspace*{1.3cm}
 $\forall y \in N \colon f_R\bigl(f_{R^{-1}}(y)\bigr) = y$ \quad und \quad
 $\forall x \in M \colon f_{R^{-1}}\bigl(f_R(x)\bigr) = x$. \\[0.2cm]
Dieser Umstand rechtfertigt im nachhinein die Schreibweise $R^{-1}$.

\paragraph{Komposition von Relationen}
Ähnlich wie wir Funktionen verknüpfen können, können auch Relationen verknüpft werden.
Wir betrachten zunächst Mengen $L$, $M$ und $N$.
Sind dort zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ definiert,
so ist das \emph{relationale Produkt} $R \circ Q$ wie folgt definiert: \\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon(\pair(x,y) \in R \wedge \pair(y,z) \in Q) \bigr\}$ 
\\[0.2cm]
Das relationale Produkt von $Q$ und $R$ wird gelegentlich auch als die \emph{Komposition} von
$Q$ und $R$ bezeichnet.  

\example
Es sei $L = \{1,2,3\}$, $M = \{4,5,6\}$ und $N = \{7,8,9\}$.  Weiter seien die Relationen
$Q$ und $R$ wie folgt gegeben: \\[0.2cm]
\hspace*{1.3cm} $R = \{ \pair(1,4), \pair(1,6), \pair(3,5) \}$ \quad und \quad
                $Q = \{ \pair(4,7), \pair(6,8), \pair(6,9) \}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm} $R \circ Q = \{ \pair(1,7), \pair(1,8), \pair(1,9) \}$.
\eox


\noindent
Ist $R \subseteq L \times M$ eine funktionale Relation auf $L$ und 
ist $Q \subseteq M \times N$ eine funktionale Relation auf $M$, so ist auch 
$R \circ Q$ eine funktionale Relation auf $L$ und die Funktion $f_{R \circ Q}$
kann wie folgt aus den Funktionen $f_R$ und $f_Q$ berechnet werden:
\\[0.2cm]
\hspace*{1.3cm}
$f_{R \circ Q}(x) = f_Q\bigl(f_R(x)\bigr)$.

\remark
In einigen Lehrbüchern wird das relationale Produkt, 
das wir als $R \circ Q$ definiert haben, mit $Q \circ R$
bezeichnet. Damit lautet die Definition von $R \circ Q$  dann wie folgt:
Ist $R \subseteq M \times N$ und $Q \subseteq L \times M$, dann ist 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon(\pair(x,y) \in Q \wedge \pair(y,z) \in R) \bigr\}$.
\\[0.2cm]
Diese Definition hat den folgenden Vorteil: Falls $R$ und $Q$ funktionale Relationen sind und wenn
dann weiter $f$ und $g$ die diesen Relationen zugeordneten Funktionen sind, wenn also 
\\[0.2cm]
\hspace*{1.3cm}
$Q = \textsl{graph}(f)$ \quad und \quad $R = \textsl{graph}(g)$
\\[0.2cm]
gilt, dann haben wir für die Komposition der Funktionen $f$ und $g$, die durch $(g \circ
f)(x) = g\bigl(f(x)\bigr)$ 
definiert ist, die Gleichung
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{graph}(g \circ f) = R \circ Q = \textsl{graph}(g) \circ \textsl{graph}(f)$.
\\[0.2cm]
 Die von uns verwendete Definition hat den Vorteil, dass später die Berechnung des transitiven
Abschlusses einer Relation intuitiver wird.  \eox



\example
Das nächste Beispiel zeigt die Verwendung des relationale Produkts im Kontext einer
Datenbank.  Wir nehmen an, dass die Datenbank eines Autohändler unter anderem die
folgenden beiden Tabellen enthält.
\begin{center}
\textsl{Kauf}:  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\qquad \textsl{Preis}:
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Auto} & \textsl{Betrag} \\
\hline
\hline
  Golf    & $20\,000$ \\
\hline
  Fox     & $10\,000$ \\
\hline
  Polo    & $13\,000$ \\
\hline
  \end{tabular}
\end{center}
Dann ist das relationale Produkt der in den Tabellen \textsl{Kauf} und \textsl{Preis}
dargestellten Relationen durch die in der folgenden Tabelle dargestellten Relation
gegeben:

\begin{center}
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Betrag} \\
\hline
\hline
  Bauer   & $20\,000$ \\
\hline
  Bauer   & $10\,000$ \\
\hline
  Schmidt & $13\,000$ \\
\hline
  \end{tabular} 
\end{center}
Diese Relation könnte dann zur Rechnungsstellung weiter verwendet werden. \eox
\vspace{0.2cm}

\remark
In der Theorie der Datenbanken wird der Begriff der Komposition zweier
Relationen zu dem Begriff des \emph{Joins} verallgemeinert.
\eox

\paragraph{Eigenschaften des relationalen Produkts}
Die Komposition von Relationen ist \emph{assoziativ}:  Sind \\[0.2cm]
\hspace*{1.3cm} $R \subseteq K \times L$, \quad $Q \subseteq L \times M$ \quad und \quad 
                $P \subseteq M \times N$ \\[0.2cm]
binäre Relationen, so gilt \\[0.2cm]
\hspace*{1.3cm} $(R \circ Q) \circ P = R \circ (Q \circ P)$. \\[0.2cm]
\textbf{Beweis}:  Wir zeigen
\begin{equation}
  \label{eq:ass0}
   \pair(x,u) \in (R \circ Q) \circ P \leftrightarrow \pair(x,u) \in R \circ (Q \circ P)   
\end{equation}
Wir formen zunächst die linke Seite $\pair(x,u) \in (R \circ Q) \circ P$ der Äquivalenz
\ref{eq:ass0} um.  Es gilt
\[
\begin{array}{cll}
                  & \pair(x,u) \in (R \circ Q) \circ P \\[0.2cm]
  \leftrightarrow & \exists z: \bigl(\pair(x,z) \in R \circ Q \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; (R \circ Q) \circ P \\[0.2cm]
  \leftrightarrow & \exists z: \bigl(\bigl(\exists y: \pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; R \circ Q \\
\end{array}
\]
Da die Variable $y$ in der Formel $\pair(z,u) \in P$ nicht auftritt, können wir den
Existenz-Quantor über $y$ auch herausziehen:
\begin{equation}
  \label{eq:ass1}
  \exists z: \exists y: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
Wir formen nun die rechte Seite der Äquivalenz
\ref{eq:ass0} um:
\[
\begin{array}{cll}
                & \pair(x,u) \in R \circ (Q \circ P) \\[0.2cm] 
\leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge \pair (y,u) \in Q \circ P\bigr) &
                  \mbox{nach Def. von}\; R \circ (Q \circ P) \\[0.2cm]
\leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge 
                  \exists z: \bigl(\pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)\bigr) &
                  \mbox{nach Def. von}\; Q \circ P \\
\end{array}
\]
Da die Variable $z$ in der Formel $\pair(x,y) \in R$ nicht vorkommt, können wir den
Existenz-Quantor über $z$ auch vorziehen und haben dann
\begin{equation}
  \label{eq:ass2}
  \exists y: \exists z: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
Die Formeln (\ref{eq:ass1}) und (\ref{eq:ass2}) unterscheiden sich nur durch die
Reihenefolge der Existenz-Quantoren und sind daher äquivalent.  Damit ist die Äquivalenz
(\ref{eq:ass0}) nachgewiesen und der Beweis der Assoziativität des Kompositions-Operators
ist erbracht.  \hspace*{\fill} $\Box$

Eine weitere wichtige Eigenschaft des relationalen Produkts ist die folgende: Sind
zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ gegeben, so gilt \\[0.2cm]
\hspace*{1.3cm} $(R \circ Q)^{-1} = Q^{-1} \circ R^{-1}$. \\[0.2cm]
Beachten Sie, dass sich die Reihenfolgen von $Q$ und $R$ hier vertauschen.  Zum Beweis
ist zu zeigen, dass für alle Paare $\pair(z,x) \in N \times L$ die  Äquivalenz \\[0.2cm]
\hspace*{1.3cm} $\pair(z,x) \in (Q \circ R)^{-1} \leftrightarrow \pair(z,x) \in R^{-1} \circ Q^{-1}$ \\[0.2cm]
gilt.  Den Nachweis erbringen wir durch die folgende Kette von Äquivalenz-Umformungen: 
\[ 
\begin{array}{cl}
                & \pair(z,x) \in (R \circ Q)^{-1}                                             \\[0.2cm]
\leftrightarrow & \pair(x,z) \in R \circ Q                                                    \\[0.2cm]
\leftrightarrow & \exists y \in M \bigl(\colon \pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \\[0.2cm]
\leftrightarrow & \exists y \in M \colon \bigl(\pair(y,z) \in Q \wedge \pair(x,y) \in R\bigr) \\[0.2cm]
\leftrightarrow & \exists y \in M \colon \bigl(\pair(z,y) \in Q^{-1} \wedge \pair(y,x) \in R^{-1}\bigr) 
                  \\[0.2cm]
\leftrightarrow & \pair(z,x) \in Q^{-1} \circ R^{-1}   \hspace*{\fill} \Box                                       
\end{array}
\]
\vspace{0.2cm}

\noindent
Wir bemerken noch, dass das folgende Distributivgesetz gilt: Sind $R_1$ und $R_2$
Relationen auf $L \times M$ und ist $Q$ eine Relation auf $M \times N$, so gilt \\[0.2cm]
\hspace*{1.3cm}  $(R_1 \cup R_2) \circ Q = (R_1 \circ Q) \cup (R_2 \circ Q)$. \\[0.2cm]
Analog gilt ebenfalls \\[0.2cm]
\hspace*{1.3cm}  $R \circ (Q_1 \cup Q_2) = (R \circ Q_1) \cup (R \circ Q_2)$, \\[0.2cm]
falls $R$ eine Relation auf $L \times M$ und $Q_1$ und $Q_2$ Relationen auf $M \times N$
sind.  Um Gleichungen der obigen Art kürzer schreiben zu können vereinbaren wir, dass der
Kompositions-Operator $\circ$ stärker bindet als $\cup$ und $\cap$.  Wir beweisen nun das
erste Distributivgesetz, indem wir 
\begin{equation}
  \label{eq:dis0}
\pair(x,z) \in (R_1 \cup R_2) \circ Q \;\leftrightarrow\; \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q   
\end{equation}
zeigen.  Wir formen zunächst den Ausdruck $\pair(x,z) \in (R_1 \cup R_2) \circ Q$ um:
\[
\begin{array}{cll}
                  & \pair(x,z) \in (R_1 \cup R_2) \circ Q  \\[0.2cm]
  \leftrightarrow & \exists y: \bigl(\pair(x,y) \in R_1 \cup R_2 \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; (R_1 \cup R_2) \circ Q \\[0.2cm]
  \leftrightarrow & \exists y: \bigl(\bigl(\pair(x,y) \in R_1 \vee \pair(x,y) \in R_2\bigr) \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; R_1 \cup R_2 \\[0.2cm]
\end{array}
\]
Diese Formel stellen wir mit Hilfe des Distributiv-Gesetzes der Aussagen-Logik um.
In der Aussagenlogik werden wir später zeigen dass für beliebige Formeln
$F_1$, $F_2$ und $G$ die Äquivalenz 
\[ (F_1 \vee F_2) \wedge G \;\leftrightarrow\; (F_1 \wedge G) \vee (F_2 \wedge G) \]
gilt.  Die Anwendung dieses Gesetzes liefert:
\begin{eqnarray}
  \nonumber
  & & \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \vee \underbrace{\pair(x,y) \in R_2}_{F_2}\bigr) \wedge \underbrace{\pair(y,z) \in Q}_G\bigr) 
\\[0.2cm] 
  \label{eq:dis1}
  & \leftrightarrow &
    \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \vee 
               \bigl(\underbrace{\pair(x,y) \in R_2}_{F_2} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \bigr)   
\end{eqnarray}
Wir formen nun den Ausdruck $\pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q$ um:
\[
\begin{array}{cll}
                & \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q \\[0.2cm]
\leftrightarrow & \pair(x,z) \in R_1 \circ Q \;\vee\; \pair(x,z) \in R_2 \circ Q &
                  \mbox{nach Def. von}\;\cup \\[0.2cm]
\leftrightarrow & \bigl(\exists y: (\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q)\bigr) \;\vee\; 
                  \bigl(\exists y: (\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q)\bigr) \\[0.2cm]
                & \mbox{nach Def. von}\; R_1 \circ Q \; \mbox{und}\; R_2 \circ Q \\[0.2cm]
\end{array}
\]
Diese letzte Formel stellen wir mit Hilfe eines Distributiv-Gesetzes für die
Prädikaten-Logik um.  In der Prädikaten-Logik werden wir später sehen, dass für beliebige
Formeln $F_1$ und $F_2$ die Äquivalenz
\[ \exists y: \bigl(F_1 \vee F_2\bigr) \;\leftrightarrow\; \bigl(\exists y: F_1\bigr) \vee \bigl(\exists y: F_2\bigr) \]
gültig ist.  Damit folgt dann
\begin{eqnarray}
\nonumber
 & & \exists y: \bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
     \exists y: \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr) \\[0.2cm]
  \label{eq:dis2}
 & \leftrightarrow &
     \exists y: \Bigl(\bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
                \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr)\Bigr) 
\end{eqnarray}
Da die Formeln \ref{eq:dis1} und \ref{eq:dis2} identisch sind, ist der Beweis des
Distributiv-Gesetzes $(R_1 \cup R_2) \circ Q = R_1 \circ Q \cup R_2 \circ Q$
erbracht. \hspace*{\fill} $\Box$


Interessant ist noch zu bemerken, dass für den Schnitt von Relationen
und dem Kompositions-Operator kein Distributivgesetz gilt, die Gleichung
\\[0.2cm]
\hspace*{1.3cm}
$(R_1 \cap R_2) \circ Q = R_1 \circ Q \cap R_2 \circ Q$
\\[0.2cm]
ist im Allgemeinen falsch.  Um diese Behauptung zu belegen, benötigen wir ein Gegenbeispiel.
Dazu definieren wir die Relationen $R_1$, $R_2$ und $Q$ wie folgt: \\[0.2cm]
\hspace*{1.3cm} $R_1 := \{ \pair(1,2) \}$, \quad $R_2 := \{ \pair(1,3) \}$ \quad und \quad
                $Q = \{ \pair(2,4), \pair(3,4) \}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm} $R_1 \circ Q = \{ \pair(1,4) \}$, \quad $R_2 \circ Q = \{ \pair(1,4) \}$, \quad also
                $R_1 \circ Q \cap R_2 \circ Q = \{ \pair(1,4) \}$, \\[0.2cm]
aber andererseits haben wir \\[0.2cm]
\hspace*{1.3cm} $(R_1 \cap R_2) \circ Q  = \emptyset \circ Q = \emptyset \not= \{\pair(1,4) \} = R_1 \circ Q  \cap R_2 \circ Q$. 

\paragraph{Identische Relation} Ist $M$ eine Menge, so definieren wir die \emph{identische Relation} $\id_M \subseteq M \times M$
wie folgt: \\[0.2cm]
\hspace*{1.3cm} $\id_M := \bigl\{ \pair(x,x) \mid x \in M \bigr\}$. 
\vspace*{0.2cm}

\example
Es sei $M = \{1,2,3\}$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm}  $\id_M := \bigl\{ \pair(1,1),  \pair(2,2),  \pair(3,3) \bigr\}$.
\vspace*{0.2cm}

\noindent
Aus der Definition folgt sofort \\[0.2cm]
\hspace*{1.3cm} $\id_M^{-1} = \id_M$. \\[0.2cm]
Sei weiterhin $R \subseteq M \times N$ und eine binäre Relation, so
gilt 
\[ R \circ \id_N = R \quad \mbox{und} \quad \id_M \circ R = R. \] 
Wir weisen die zweite Gleichung nach.  Nach Definition des relationalen Produkts
gilt
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \exists y: \pair(x,y) \in \id_M \wedge \pair(y,z) \in R \bigr\}. \]
Nun ist $\pair(x,y) \in \id_M$ genau dann, wenn $x = y$ ist, also gilt
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \exists y: x = y \wedge \pair(y,z) \in R \bigr\}. \]
Es gilt die folgende Äquivalenz
\[ \bigl( \exists y: x = y \wedge \pair(y,z) \in R \bigr) \leftrightarrow \pair(x,z) \in R. \]
Diese Äquivalenz ist leicht einzusehen:  Falls $\exists y: x = y \wedge \pair(y,z) \in R$
gilt, so muss dass $y$ dessen Existenz gefordert wird, den Wert $x$ haben und dann gilt
natürlich auch $\pair(x,z) \in R$.  Gilt andererseits $\pair(x,z) \in R$, so definieren
wir $y := x$.  Für das so definierte $y$ gilt offensichtlich 
$x = y \wedge \pair(y,z) \in R$.  Unter Verwendung der oberen Äquivalenz haben wir 
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Wegen  $R \subseteq M \times N$ besteht $R$ nur aus geordneten
Paaren und daher gilt
\[ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Damit ist $\id_M \circ R = R$ gezeigt. \hspace*{\fill} $\Box$

\exercise
Es sei $R \subseteq M \times N$.  Unter welchen Bedingungen gilt 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ R^{-1} = \id_M$? 
\\[0.2cm]
Unter welchen Bedingungen gilt
\\[0.2cm]
\hspace*{1.3cm}
$R^{-1} \circ R = \id_M$?
\eox
% Die erste Gleichung gilt genau dann, wenn $R$ links-total und links-eindeutig ist.



\subsection{Binäre Relationen auf einer Menge}
Wir betrachten im Folgenden den Spezialfall von Relationen $R \subseteq M \times N$, für
den $M = N$ gilt.  Wir definieren:
Eine Relation $R \subseteq M \times M$ heißt eine Relation \emph{auf} der Menge $M$.
Im Rest dieses Abschnittes betrachten wir nur noch solche Relationen. 
Statt $M \times M$ schreiben wir auch kürzer $M^2$.

Ist $R$ eine Relation auf $M$ und sind $x, y \in M$, so schreiben wir statt
$\pair(x,y) \in R$ gelegentlich auch $x\, R\, y$.  Beispielsweise lässt sich die Relation $\leq$ 
auf $\mathbb{N}$ wie folgt definieren: \\[0.2cm]
\hspace*{1.3cm}
 $\leq\; := \{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists z \in \mathbb{N} \colon x + z = y \}$.
\\[0.2cm]
Statt $\pair(x,y) \in\; \leq$ hat sich die Schreibweise $x \leq y$ eingebürgert.
  
\begin{Definition} 
Eine Relation $R \subseteq M \times M$  ist \emph{reflexiv} auf der Menge $M$ falls gilt: \\[0.2cm]
\hspace*{1.3cm} $\forall x\in M \colon \pair(x,x) \in R$. 
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann reflexiv, wenn $\mbox{\rm id}_M \subseteq R$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}: Es gilt
\\[0.2cm]
\hspace*{1.3cm}
$
\begin{array}[b]{cl}
              & \id_M \subseteq R \\[0.2cm]
\mbox{g.d.w.} & \bigl\{ \pair(x,x) \mid x \in M \bigr\} \subseteq R \\[0.2cm] 
\mbox{g.d.w.} & \forall x \in M: \pair(x,x) \in R \\[0.2cm] 
\mbox{g.d.w.} & \mbox{$R$ reflexiv}  
\end{array}
$
\hspace*{\fill} $\Box$

\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{symmetrisch} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x,y\el M \colon \bigl(\pair(x,y) \in R \rightarrow\pair(y,x)\in R\bigr)$. 
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann symmetrisch, wenn $R^{-1} \subseteq R$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}:
Die Äquivalenz der beiden Bedingungen wird offensichtlich, wenn wir die Inklusions-Bedingung
$R^{-1} \subseteq R$ expandieren, indem wir die Gleichungen
\[ R^{-1} = \bigl\{ \pair(y,x) \mid \pair(x,y) \in R \bigr\} \quad \mbox{und} \quad
   R      = \bigl\{ \pair(x,y) \mid \pair(x,y) \in R \bigr\} \]
berücksichtigen, denn dann hat die Inklusions-Bedingung die Form
\[ \bigl\{ \pair(y,x) \mid \pair(x,y) \in R \bigr\} \subseteq
   \bigl\{ \pair(x,y) \mid \pair(x,y) \in R \bigr\}. \]
Nach der Definition der Teilmengen-Beziehung ist diese Bedingung gleichwertig zu der Formel
\[ \forall x, y \in M \colon \bigl(\pair(x,y) \in R \rightarrow\pair(y,x) \in R\bigr). 
   \hspace*{6.6cm} \Box \]

\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{anti-symmetrisch} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y\bigr)$.
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann anti-symmetrisch, wenn
$R \cap R^{-1} \subseteq \mbox{\rm id}_{M}$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}:
Wir nehmen zunächst an, dass $R$ anti-symmetrisch ist und folglich
\[ \forall x, y \in M \colon \pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y \]
gilt und zeigen, dass aus dieser Voraussetzung die Inklusions-Beziehung
$R \cap R^{-1} \subseteq \id_{M}$ folgt.  Sei also $\pair(x,y) \in R \cap R^{-1}$.
Dann gilt einerseits $\pair(x,y) \in R$ und andererseits folgt aus $\pair(x,y) \in R^{-1}$
dass auch $\pair(y,x) \in R$ ist.  Dann folgt aber aus der Voraussetzung sofort $x=y$
und das impliziert $\pair(x,y) \in \id_M$, womit $R \cap R^{-1} \subseteq \id_{M}$ 
gezeigt ist.

Wir nehmen nun an, dass $R \cap R^{-1} \subseteq \id_{M}$ gilt und zeigen, dass daraus
die Gültigkeit von 
\[ \forall x, y \in M \colon \pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y \]
folgt.  Seien also $x,y \in M$ und es gelte $\pair(x,y) \in R$ und $\pair(y,x) \in R$.
Wir müssen zeigen, dass daraus $x=y$ folgt.  Aus $\pair(y,x) \in R$ folgt 
$\pair(x,y) \in R^{-1}$.  Also gilt $\pair(x,y) \in R \cap R^{-1}$.
Aus der Inklusions-Beziehung $R \cap R^{-1} \subseteq \id_{M}$ folgt dann
$\pair(x,y) \in \id_M$ und daraus folgt sofort $x = y$. \hspace*{\fill} $\Box$

\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{transitiv} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in
R$.
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann transitiv, wenn
$R \circ R \subseteq R$ ist.
\end{Satz}

\noindent
\textbf{Beweis}:  Wir nehmen zunächst an, dass $R$ transitiv ist und damit
\[ \forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R \]
gilt und zeigen, dass daraus $R \circ R \subseteq R$ folgt.
Sei also $\pair(x,z) \in R \circ R$.  Nach Definition des relationalen Produkts gibt es
dann ein $y$, so dass $\pair(x,y) \in R$ und $\pair(y,z) \in R$ gilt.
Nach Voraussetzung gilt jetzt $\pair(x,z) \in R$ und das war zu zeigen.

Wir nehmen nun an, dass die Inklusion $R \circ R \subseteq R$ gilt und zeigen, dass daraus
\[ \forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R \]
folgt.  Seien also $x,y,z \in M$ mit $\pair(x,y) \in R$ und $\pair(y,z) \in R$ gegeben.
Nach Definition des relationalen Produkts gilt dann $\pair(x,z) \in R \circ R$ und aus
der Voraussetzung $R \circ R \subseteq R$ folgt  $\pair(x,z) \in R$. \hspace*{\fill} $\Box$



\examples
In den ersten beiden Beispielen sei $M = \{1,2,3\}$.
\begin{enumerate}
\item $R_1 = \{ \pair(1,1), \pair(2,2), \pair(3,3) \}$.

      $R_1$ ist reflexiv, symmetrisch, anti-symmetrisch und transitiv.
\item $R_2 = \{ \pair(1,2), \pair(2,1), \pair(3,3) \}$.

      $R_2$ ist nicht reflexiv, da $\pair(1,1) \not\in R_2$.
      $R_2$ ist symmetrisch. 
      $R_2$ ist nicht anti-symmetrisch, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $2=1$ folgen.
      Schließlich ist $R_2$ auch nicht transitiv, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $\pair(1,1) \in R_2$ folgen.

      In den beiden folgenden Beispielen sei $M = \mathbb{N}$.
\item $R_3 := \{ \pair(n,m) \in \mathbb{N}^2 \mid n \leq m \}$.

      $R_3$ ist reflexiv, denn für alle natürlichen Zahlen $n \in \mathbb{N}$ gilt 
      $n \leq n$.  $R_3$ ist nicht symmetrisch, denn beispielsweise gilt
      $1 \leq 2$, aber es gilt nicht $2 \leq 1$.  Allerdings ist $R_3$ anti-symmetrisch,
      denn wenn $n \leq m$  und $m \leq n$ gilt, so muss schon $m = n$ gelten.
      Schließlich ist $R_3$ auch transitiv, denn aus $k \leq m$ und $m \leq n$ folgt
      natürlich $k \leq n$.
\item $R_4 := \{ \pair(m,n) \in \mathbb{N}^2 \mid \exists k\in \mathbb{N}: m\cdot k = n \}$

      Für zwei positive Zahlen $m$ und $n$ gilt $\pair(m,n) \in R_4$ genau dann, wenn $m$ ein
      Teiler von $n$ ist.  Damit ist klar, dass $R_4$ reflexiv ist, denn jede Zahl
      teilt sich selbst.  Natürlich ist $R_4$ nicht symmetrisch, denn $1$ ist ein Teiler
      von $2$ aber nicht umgekehrt.  Dafür ist $R_4$ aber anti-symmetrisch, denn wenn 
      sowohl $m$ ein Teiler von $n$ ist und auch $n$ ein Teiler vom $m$, so muss $m = n$
      gelten.  Schließlich ist $R_4$ auch transitiv: Ist $m$ ein Teiler von $n$ und
      $n$ ein Teiler von $o$, so ist natürlich $m$ ebenfalls ein Teiler von $o$.
      \eox
\end{enumerate}
Ist $R$ eine Relation auf $M$, die nicht transitiv ist, so können wir $R$ zu einer
transitiven Relation erweitern.  Dazu definieren wir für alle $n \in \mathbb{N}$ die
Potenzen $R^n$ durch Induktion über $n$.
\begin{enumerate}
\item Induktions-Anfang: $n= 0$.  Wir setzen \\[0.2cm]
      \hspace*{1.3cm} $R^0 := \id_M$
\item Induktions-Schritt: $n \rightarrow n + 1$. Nach Induktions-Voraussetzung ist $R^n$
      bereits definiert. Daher können wir $R^{n+1}$ definieren als \\[0.2cm]
      \hspace*{1.3cm} $R^{n+1} = R \circ R^n$.
\end{enumerate}
Wir benötigen später das folgende Potenz-Gesetz:  Für beliebige 
natürliche Zahlen $k,l \in \mathbb{N}$ gilt:
\[ R^k \circ R^l = R^{k+l}. \]
\textbf{Beweis}:  Wir führen den Beweis durch Induktion nach $k$.
\begin{enumerate}
\item[I.A.:] $k = 0$.  Es gilt
             \[ R^0 \circ R^l = \textsl{id}_M \circ R^l = R^l = R^{0+l}. \]
\item[I.S.:] $k \mapsto k+1$.  Es gilt
             \[
             \begin{array}{lcll}
               R^{k+1} \circ R^l & = & (R \circ R^k) \circ R^l &
                                       \mbox{nach Def. von}\; R^{n+1} \\
                                 & = & R \circ (R^k \circ R^l) &
                                       \mbox{aufgrund des Assoziativ-Gesetzes für $\circ$}                                       \\
                                 & = & R \circ R^{k+l} &
                                       \mbox{nach Induktions-Voraussetzung} \\
                                 & = & R^{(k+l)+1} &
                                       \mbox{nach Def. von}\; R^{n+1} \\
                                 & = & R^{(k+1)+l}. & \hspace*{\fill} \Box
             \end{array}
             \]
\end{enumerate}
\vspace*{0.3cm}

\noindent
Wir definieren den \emph{transitiven Abschluss} von $R$ als die Menge \\[0.2cm]
\hspace*{1.3cm} $R^+ := \bigcup\limits_{n=1}^{\infty} R^n$. \\
Dabei ist für eine Folge $(A_n)_n$ von Mengen der Ausdruck $\bigcup\limits_{i=1}^{\infty} A_n$ 
wie folgt definiert: \\[-0.1cm]
\hspace*{1.3cm} $\bigcup\limits_{i=1}^{\infty} A_n = A_1 \cup A_2 \cup A_3 \cup \cdots $. \\[0.2cm]

\begin{Satz}
Es sei $M$ eine Menge und $R \subseteq M \times M$ eine binäre Relation auf $M$.
Dann hat die oben definierte Relation $R^+$ die folgenden Eigenschaften:
\begin{enumerate}
\item $R^+$ ist transitiv.
\item $R^+$   ist die bezüglich der Inklusions-Ordnung $\subseteq$ kleinste Relation
      $T$ auf $M$, die einerseits transitiv ist und andererseits die Relation $R$ enthält.
      Anders ausgedrückt: Ist $T$ ein transitive Relation auf $M$ mit $R \subseteq T$, so
      muss $R^+ \subseteq T$ gelten.
\end{enumerate}
\end{Satz}

\noindent
\textbf{Beweis}:
\begin{enumerate}
\item Wir zeigen zunächst, dass $R^+$ transitiv ist. Dazu müssen wir die Gültigkeit der Formel
      \[ \forall x, y, z: \pair(x,y) \in R^+ \wedge \pair(y,z) \in R^+ \rightarrow \pair(x,z) \in R^+ \]
nachweisen.  Wir nehmen also an, dass $\pair(x,y) \in R^+$ und $\pair(y,z) \in R^+$
gilt und zeigen, dass aus dieser Voraussetzung auf $\pair(x,z) \in R^+$ geschlossen
werden kann.  Nach Definition von $R^+$ haben wir 
\[ \pair(x,y) \in \bigcup\limits_{n=1}^{\infty} R^n \quad \mbox{und} \quad
   \pair(y,z) \in \bigcup\limits_{n=1}^{\infty} R^n.
\]
Nach der Definition der Menge $\bigcup\limits_{n=1}^{\infty} R^n$ gibt es dann natürliche Zahlen $k,l\in\mathbb{N}$, so dass
\[ \pair(x,y) \in R^k \quad \mbox{und} \quad \pair(y,z) \in R^l \]
gilt.  Aus der Definition des relationalen Produktes folgt nun
\[  \pair(x,z) \in R^k \circ R^l. \]
Aufgrund des Potenz-Gesetzes für das relationale Produkt gilt 
\[ R^k \circ R^l = R^{k+l}. \]
Also haben wir $\pair(x,z) \in R^{k+l}$ und daraus folgt sofort
\[  \pair(x,z) \in \bigcup\limits_{n=1}^{\infty} R^n. \]
Damit gilt $\pair(x,z) \in R^+$ und das war zu zeigen. 

\item 
Um zu zeigen, dass $R^+$ die kleinste Relation ist, die einerseits transitiv ist
und andererseits $R$ enthält, nehmen wir an, dass $T$ eine transitive Relation ist,
für die $R \subseteq T$ gilt.  Wir müssen dann zeigen, dass $R^+ \subseteq T$ gilt.
Wir zeigen zunächst durch vollständige Induktion über $n\in\mathbb{N}$, dass für alle positiven
natürlichen Zahlen $n\in\mathbb{N}$ die folgende Inklusion gilt:
\[ R^n \subseteq T. \]
\noindent
\textbf{I.A.:} $n=1$.  Dann ist $R^1 \subseteq T$ zu zeigen.  Wegen
 $R^1 = R \circ \id_M = R$
 folgt dies aber unmittelbar aus der Voraussetzung $R \subseteq T$.
\vspace*{0.1cm}

\noindent
\textbf{I.S.:} $n \mapsto n+1$.  Nach Induktions-Voraussetzung wissen wir
              \[ R^n \subseteq T. \]
             Wir multiplizieren diese Inklusion auf beiden Seiten relational mit $R$
             und haben dann
             \[ R^{n+1} = R \circ R^n \subseteq R \circ T. \]
             Multiplizieren wir die Voraussetzung $R \subseteq T$ relational mit
             $T$, so finden wir
             \[ R \circ T \subseteq T \circ T. \]
             Weil $T$ transitiv ist, gilt 
             \[ T \circ T \subseteq T. \]
             Insgesamt haben wir also die folgende Kette von Inklusionen
             \[ R^{n+1} \subseteq R \circ T \subseteq T \circ T \subseteq T. \]
             Damit folgt $R^{n+1} \subseteq T$ und der Induktions-Beweis ist
             abgeschlossen.
\vspace*{0.1cm}

\noindent
Wir zeigen nun, dass $R^+ \subseteq T$ ist.  Sei $\pair(x,y) \in R^+$.
Nach Definition von $R^+$ muss es dann eine positive natürliche Zahl $n$ geben, so
dass $\pair(x,y) \in R^n$ ist.  Wegen $R^n \subseteq T$ folgt daraus aber
$\pair(x,y) \in T$ und damit ist auch der zweite Teil des Beweises abgeschlossen. \qed
\end{enumerate}

\example
Es sei $\textsl{Mensch}$ die Menge alle Menschen, die jemals gelebt haben.  Wir definieren
die Relation \textsl{Eltern} auf $M$ indem wir setzen
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern} := \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vater von $y$ oder 
                                                                   $x$ ist Mutter von $y$} \}$
\\[0.2cm]
Dann besteht der transitive Abschluss der Relation \textsl{Eltern} aus allen Paaren
$\pair(x,y)$, für die $x$ ein Vorfahre von $y$ ist:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern}^+ = \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vorfahre von $y$} \}$.
\next

\example
Es sei \textsl{F} die Menge aller Flughäfen.  Wir definieren auf der Menge \textsl{F} eine
Relation \textsl{D} durch
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{D} := \{ \pair(x,y) \in \textsl{F} \times \textsl{F} \mid
                  \mbox{Es gibt einen Direktflug von $x$ nach $y$} \}$.
\\[0.2cm]
$D$ bezeichnet also die direkten Verbindungen.  Die Relation $D^2$ ist dann definiert als
\\[0.2cm]
\hspace*{1.3cm}
$D^2 = \{ \pair(x,z) \in \textsl{F} \times \textsl{F} \mid 
          \exists z \in \textsl{F}: \pair(x,y) \in D \wedge \pair(y,z) \in D \}$.
\\[0.2cm]
Das sind aber gerade die Paare $\pair(x,z)$, für die es einen Luftweg von $x$ nach $z$
gibt, der genau einen Zwischenstop enthält.  Entsprechend enthält $D^3$ die Paare
$\pair(x,z)$, für die man mit zwei Zwischenstops von $x$ nach $y$ kommt und allgemein
enthält $D^k$ die Paare $\pair(x,z)$, für die man mit $k-1$ Zwischenstops von dem
Flughafen $x$ zu dem Flughafen $z$ kommt.
Der transitive Abschluss von $D$ enthält
dann alle Paare $\pair(x,y)$, für die es überhaupt eine Möglichkeit gibt, auf dem Luftweg
von $x$ nach $y$ zu kommen.

\exercise
Auf der Menge $\mathbb{N}$ der natürlichen Zahlen wird die Relation $R$ wie folgt definiert:
\\[0.2cm]
\hspace*{1.3cm}
$R = \{ \pair(k, k + 1) \mid k \in \mathbb{N} \}$.
\\[0.2cm]
Berechnen Sie die folgenden Relationen:
\begin{enumerate}
\item $R^2$,
\item $R^3$,
\item $R^n$ für beliebige $n \in \mathbb{N}$ mit $n \geq 1$,
\item $R^+$.
\end{enumerate}


\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist eine 
\emph{Äquivalenz-Relation} auf $M$ genau dann, wenn folgende Bedingungen erfüllt sind:
\begin{enumerate}
\item $R$ ist reflexiv auf $M$,
\item $R$ ist symmetrisch und
\item $R$ ist transitiv.
\end{enumerate}
\end{Definition}

Der Begriff der Äquivalenz-Relationen verallgemeinert den Begriff der Gleichheit, denn
ein triviales Beispiel für eine Äquivalenz-Relation auf $M$ ist die Relation $\id_M$.
Als nicht-triviales Beispiel betrachten wir die Menge $\mathbb{Z}$ der ganzen Zahlen
zusammen mit der Relation $\approx_n$, die wir für natürliche Zahlen $n \not= 0$ wie folgt definieren: \\[0.2cm]
\hspace*{1.3cm}
 $\approx_n \;:=\; \{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z} \colon k \cdot n = x - y \}$
\\[0.2cm]
Für zwei Zahlen $x,y \in \mathbb{Z}$ gilt also  $x \approx_n y$ genau dann, wenn $x$ und
$y$ beim Teilen durch $n$ den gleichen Rest ergeben.   Wir zeigen, dass die
Relation $\approx_n$ für $n \not=0$ eine Äquivalenz-Relation auf $\mathbb{Z}$ definiert.
\begin{enumerate}
\item Um zu zeigen, dass $\approx_n$ reflexiv ist müssen wir nachweisen, dass für alle
      $x \in \mathbb{Z}$ gilt $\pair(x,x) \in\; \approx_n$.  Nach Definition von $\approx_n$
      ist dies äquivalent zu \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,x) \in \bigl\{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z}: k \cdot n = x - y \bigr\}$.
      \\[0.2cm]
      Dies ist offenbar gleichbedeutend mit \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{Z}: k \cdot n = x - x$.
      \\[0.2cm]
      Offenbar erfüllt $k=0$ diese Gleichung, denn es gilt: \\[0.2cm]
      \hspace*{1.3cm}
      $0\cdot n = 0 = x - x$. 
      \\[0.2cm]
      Damit ist die Reflexivität nachgewiesen.
\item Um die Symmetrie von $\approx_n$ nachzuweisen nehmen wir an, dass 
      $\pair(x,y) \in\; \approx_n$ ist.  Dann gibt es also ein $k \in \mathbb{Z}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k\cdot n = x - y$
      \\[0.2cm] 
      gilt.  Daraus folgt sofort
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(-k)\cdot n = y - x$.
      \\[0.2cm]
      Das zeigt aber, dass $\pair(y,x) \in\; \approx_n$ ist und damit ist die Symmetrie
      nachgewiesen.
\item Zum Nachweis der Transitivität von $\approx$ nehmen wir an, dass
      sowohl $\pair(x,y) \in\; \approx_n$ als auch $\pair(y,z) \in\; \approx_n$
      gelten.  Dann gibt es also $k_1,k_2 \in \mathbb{Z}$ so dass 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k_1 \cdot n = x - y$ \quad und \quad $k_2 \cdot n = y - z$ 
      \\[0.2cm]
      gelten.  Addieren wir diese beiden Gleichungen, so sehen wir
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(k_1 + k_2) \cdot n = x - z$.
      \\[0.2cm]
      Mit $k_3 := k_1 + k_2$ gilt also $k_3\cdot n = x - z$ und damit haben wir
      $\pair(x,z) \in\; \approx_n$ nachgewiesen und die Transitivität von $\approx_n$
      gezeigt.  \hspace*{\fill} $\Box$      
\end{enumerate}

\begin{Satz} Es seien $M$ und $N$ Mengen und 
\\[0.2cm]
\hspace*{1.3cm}
$f : M \rightarrow N$
\\[0.2cm]
sei eine Funktion.  Definieren wir die Relation $R \subseteq M \times M$ als
\\[0.2cm]
\hspace*{1.3cm}
$R := \bigl\{ \pair(x,y) \in M \times M \mid f(x) = f(y) \bigr\}$
\\[0.2cm]
so ist $R$ eine Äquivalenz-Relation.
\end{Satz}

\noindent
\textbf{Beweis}: Es weisen Reflexivität, Symmetrie und Transitivität von $R$ nach:
\begin{enumerate}
\item $R$ ist reflexiv, denn es gilt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: f(x) = f(x)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \pair(x,x) \in R$.
\item Um die Symmetrie von $R$ nachzuweisen, müssen wir
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y \in M: (\pair(x,y) \in R \rightarrow \pair(y,x) \in R)$
      \\[0.2cm]
      zeigen.  Sei also $\pair(x,y) \in R$. Dann gilt nach Definition von $R$
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(y) = f(x)$
      \\[0.2cm]
      und nach Definition von $R$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(y,x) \in R$.
\item Um die Transitivität von $R$ nachzuweisen, müssen wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z)\bigr)$
      \\[0.2cm]
      zeigen.  Gelte also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \wedge \pair(y,z) \in R$.
      \\[0.2cm]
      Nach Definition von $R$ heißt das 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y) \wedge f(y) = f(z)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(z)$.
      \\[0.2cm]
      Nach Definition der Relation $R$ haben wir also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z)$.  \qed
\end{enumerate}

\example
Es sei $M$ die Menge aller Menschen und $S$ sei die Menge aller Staaten.  Nehmen wir zur
Vereinfachung an, dass jeder Mensch genau eine Staatsbürgerschaft hat, so können wir eine Funktion
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{sb}: M \rightarrow S$
\\[0.2cm]
defineren, die jedem Menschen $x$ seine Staatsbürgerschaft $\textsl{sb}(x)$ zuordnet.  Bei der durch
diese Funktion definierten Äquivalenz-Relation sind dann alle die Menschen äquivalent, welche dieselbe
Staatsbürgerschaft haben.  


\begin{Definition}[Äquivalenz-Klasse]
Ist $R$ eine Äquivalenz-Relation auf $M$ so definieren wir für alle $x \in M$ 
die Menge $[x]_R$ durch \\[0.2cm]
\hspace*{1.3cm} $[x]_R \;:=\; \bigl\{ y \in M \mid x \mathop{R} y \bigr\}$. \qquad
(Wir schreiben hier $x R y$ als Abkürzung für $\pair(x, y) \in R$.) 
\\[0.2cm]
Die Menge $[x]_R$ bezeichnen wir als die von $x$ erzeugte \emph{Äquivalenz-Klasse}.  
\end{Definition}

\begin{Satz} 
Ist $R \subseteq M \times M$ eine Äquivalenz-Relation, so gilt: 
\begin{enumerate}
\item $\forall x \el M \colon x \el [x]_R$
\item $\forall x, y \el M \colon \bigl(x \mathop{R} y \rightarrow [x]_R = [y]_R\bigr)$
\item $\forall x, y \el M \colon \bigl(\neg x \mathop{R} y \rightarrow [x]_R \cap [y]_R = \emptyset\bigr)$
\end{enumerate}
\end{Satz}

\remark
Da für $x,y\el M$ entweder $x \mathop{R} y$ oder $\neg (x \mathop{R} y)$ gilt, zeigen die
letzten beiden Eigenschaften, dass zwei Äquivalenz-Klassen entweder gleich,
oder aber disjunkt sind:
\\[0.2cm]
\hspace*{1.3cm}
$\forall x, y \el M: \bigl([x]_R = [y]_R \vee [x]_R \cap [y]_R = \emptyset\bigr)$.
\vspace*{0.1cm}

\noindent
\textbf{Beweis}:  Wir weisen nun die Gültigkeit der oben behaupteten Eigenschaften nach.
\begin{enumerate}
\item Wir haben $x \el [x]_R$ genau dann, wenn 
      $x \in \bigl\{ y \el M \mid x \mathop{R} y \bigr\}$ gilt und letzteres ist
      äquivalent zu $x \mathop{R} x$.
      Dies folgt unmittelbar aus der Reflexivität der Äquivalenz-Relation.
\item Sei nun $x \mathop{R} y$.  Um $[x]_R = [y]_R$ nachzuweisen zeigen wir
      $[x]_R \subseteq [y]_R$ und $[y]_R \subseteq [x]_R$.

      Sei also 
      $u \el [x]_R$.  Dann gilt $x \mathop{R} u$.  Aus der Voraussetzung
      $x \mathop{R} y$ folgt wegen der Symmetrie der Relation $R$, dass auch
      $y \mathop{R} x$ gilt.  Aus 
      $y \mathop{R} x$ und $x \mathop{R} u$ folgt wegen der Transitivität der Relation
      $R$, dass $y \mathop{R} u$ gilt.  Nach der Definition der
      Menge $[y]_R$ folgt damit $u \el [y]_R$. 
      Damit ist $[x]_R \subseteq [y]_R$ nachgewiesen.

      Um $[y]_R \subseteq [x]_R$ zu zeigen nehmen wir an, $u \el [y]_R$.
      Dann gilt $y \mathop{R} u$.  Aus der Voraussetzung $x \mathop{R} y$ und
      $y \mathop{R} u$ folgt wegen der Transitivität der Relation $R$ sofort
      $x \mathop{R} u$.  Dann gilt aber $u \el [x]_R$ und damit ist auch die Inklusion
      $[y]_R \subseteq [x]_R$ nachgewiesen.
\item Sei nun $\neg (x \mathop{R} y)$ vorausgesetzt.  Um nachzuweisen,
      dass  $[x]_R \cap [y]_R = \emptyset$ ist nehmen wir an, dass
      es ein $z \el [x]_R \cap [y]_R$ gibt.  Aus dieser Annahme werden wir einen
      Widerspruch zu der Voraussetzung $\neg (x \mathop{R} y)$ 
        herleiten.  Sei also $z \el[x]_R$ und $z \el [y]_R$.  Nach Definition
        der Äquivalenz-Klassen $[x]_R$ und $[y]_R$ gilt dann 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $x \mathop{R} z$ \quad und \quad $y \mathop{R} z$.
      \\[0.2cm]
      Aufgrund der Symmetrie von $R$ können wir $y \mathop{R} z$ umdrehen und haben dann
      \\[0.2cm]
      \hspace*{1.3cm}      
      $x \mathop{R} z$ \quad und \quad $z \mathop{R} y$.
      \\[0.2cm]
      Aus der Transitivität der Äquivalenz-Relation $R$ folgt jetzt
      $x \mathop{R} y$.
      Dies steht aber im Widerspruch zu der Voraussetzung $\neg (x \mathop{R} y)$.
      Damit ist die Annahme, dass es ein $z \el [x]_R \cap [y]_R$ gibt, widerlegt.
      Folglich ist die Menge $[x]_R \cap [y]_R$ leer.
      \hspace*{\fill} $\Box$
\end{enumerate}

\example
Setzen wir das letzte Beispiel fort, in dem alle die Menschen äquivalent waren, die dieselbe
Staatsbürgerschaft haben, so finden wir, dass die Äquivalenz-Klassen, die von dieser
Äquivalenz-Relation erzeugt werden, gerade aus den Menschen besteht, die dieselbe
Staatsbürgerschaft besitzen.

\begin{Definition}[Partition] 
Ist ${\cal P} \subseteq 2^M$ eine Menge von Teilmengen von $M$, so sagen wir, dass ${\cal P}$ eine 
\emph{Partition} von $M$ ist, falls folgende Eigenschaften gelten:
\begin{enumerate}
\item \emph{Vollständigkeits-Eigenschaft} 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \el M : \exists K \el {\cal P} : x \el K$,

      jedes Element aus $M$ findet sich  in einer Menge aus ${\cal P}$ wieder.
\item \emph{Separations-Eigenschaft} 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall K, L \el {\cal P} : K \cap L =\emptyset \vee K = L$,

      zwei Mengen aus ${\cal P}$ sind  entweder disjunkt oder identisch.
\end{enumerate}
Gelegentlich wird eine Partition einer Menge $M$ auch als \emph{Zerlegung} von $M$
bezeichnet.
\end{Definition}

\remark
Der letzte Satz hat gezeigt, dass für jede Äquivalenz-Relation $R$ auf einer Menge $M$ die Menge
der Äquivalenz-Klassen 
\\[0.2cm]
\hspace*{1.3cm}
$\bigl\{ [x]_R \mid x \in M \bigr\}$
\\[0.2cm]
eine Partition der Menge $M$ darstellt.  Der nächste Satz zeigt, dass auch die Umkehrung gilt, denn
aus jeder Partition einer Menge lässt sich eine Äquivalenz-Relation erzeugen.

\begin{Satz} 
Es sei $M$ eine Menge und $\mathcal{P} \subseteq 2^M$ eine
Partition von $M$.  Definieren wir die Relation $R$ durch
\\[0.2cm]
\hspace*{1.3cm}
$R := \bigl\{ \pair(x,y) \in M \times M \mid \exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \bigr\}$,
\\[0.2cm]
so ist $R$ eine Äquivalenz-Relation auf $M$.
\end{Satz}

\noindent
\textbf{Beweis}: Wir haben zu zeigen dass die Relation $R$ reflexiv, symmetrisch und
transitiv ist.
\begin{enumerate}
\item Reflexivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: x \mathop{R} x$.
      \\[0.2cm]
      Das ist nach Definition der Relation $R$ äquivalent zu der Formel 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: \bigl(x \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      Das können wir sofort zu der Formel
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: x \in K$
      \\[0.2cm]
      vereinfachen.  Diese Formel ist nichts anderes als die Vollständigkeit
      der Partition $\mathcal{P}$.
\item Symmetrie: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in M:\bigl( x \mathop{R} y \rightarrow y \mathop{R} x\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{R} y$ 
      \\[0.2cm]
      gilt.  Nach Definition
      der Relation $R$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr)$.
      \\[0.2cm]
      Diese Formel ist offenbar äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(y \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      und nach Definition der Relation $R$ folgt nun 
      \\[0.2cm]
      \hspace*{1.3cm}
      $y \mathop{R} x$.
\item Transitivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M:\bigl( x \mathop{R} y \wedge y \mathop{R} z \rightarrow x \mathop{R} z\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{R} y \wedge y \mathop{R} z$
      \\[0.2cm]
      gilt.  Das ist nach Definition der Relation $R$ äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \wedge 
       \exists L \in \mathcal{P}: \bigl(y \in L \wedge z \in L\bigr)$.
      \\[0.2cm]
      Dann gibt es aber offenbar zwei Mengen $K,L\in\mathcal{P}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \in K \wedge y \in K \cap L \wedge z \in L$
      \\[0.2cm]
      gilt.  Damit ist $K \cap L \not= \emptyset$ und aus der 
      Separations-Eigenschaft der Partition $\mathcal{P}$ folgt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $K = L$.
      \\[0.2cm]
      Damit haben wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge z \in K\bigr)$
      \\[0.2cm]
      gezeigt und nach Definition der Relation $R$ heißt das 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{R} z$. 
      \qed
\end{enumerate}

\paragraph{Partielle Ordnung, Totale Ordnung}  \hspace*{\fill} \linebreak
Eine Relation $R \subseteq M \times M$  ist eine 
\emph{partielle Ordnung (im Sinne von $\leq$) auf $M$} genau dann, wenn $R$
\begin{enumerate}
\item reflexiv,
\item anti-symmetrisch und
\item transitiv ist.
\end{enumerate}
Die Relation ist darüber hinaus eine \emph{totale Ordnung auf $M$}, wenn gilt:
\\[0.2cm]
\hspace*{1.3cm} $\forall x \el M : \forall y \el M :\bigl( x\mathop{R}y \vee y \mathop{R} x\bigr)$.

\example 
Die Teilbarkeitsrelation $\mathop{\mathtt{div}}$ kann auf den natürlichen Zahlen
wie folgt definiert werden 
\\[0.2cm]
\hspace*{1.3cm}
$ \mathop{\mathtt{div}} := 
   \bigl\{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists k \in \mathbb{N}: k \cdot x = y\bigr\}$.
\\[0.2cm] 
Wir zeigen dass diese Relation eine partielle Ordnung auf $\mathbb{N}$ ist und weisen dazu
Reflexivität, Anti-Symmetrie und Transitivität nach.
\begin{enumerate}
\item Reflexivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in \mathbb{N}: x \mathop{\mathtt{div}} x$.
      \\[0.2cm]
      Nach Definition der Relation $\mathop{\mathtt{div}}$ ist  das äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{N}: k \cdot x = x$ 
      \\[0.2cm]
      Setzen wir $k=1$, so gilt sicher $k \cdot x = x$ und damit ist die Reflexivität
      gezeigt.
\item Anti-Symmetrie: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in \mathbb{N}:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x \rightarrow x = y\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x$
      \\[0.2cm]
      gilt (und werden $x=y$ zeigen).  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}: k_2 \cdot y = x \bigr)$ 
      \\[0.2cm]
      Also gibt es natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = x$
      \\[0.2cm]
      gilt.  Setzen wir diese Gleichungen ineinander ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 \cdot y = y$ \quad und \quad
      $k_2 \cdot k_1 \cdot x = x$.
      \\[0.2cm] 
      Dann muss aber 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 = 1 \;\vee\; (x = 0 \wedge y = 0)$
      \\[0.2cm]
      gelten.  Da aus $k_1 \cdot k_2 = 1$ sofort $k_1 = 1$ und $k_2 = 1$ folgt
      haben wir wegen der ursprünglichen Gleichungen $k_1 \cdot x = y$ und $k_2 \cdot y = x$
      in jedem Fall $x = y$.
\item Transitivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y, z \in \mathbb{N}:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z \rightarrow x \mathop{\mathtt{div}} z\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z$
      \\[0.2cm]
      gilt (und werden $x \mathop{\mathtt{div}} z$ zeigen).  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}: k_2 \cdot y = z \bigr)$ 
      \\[0.2cm]
      Also gibt es natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = z$
      \\[0.2cm]
      gilt.  Setzen wir die erste Gleichung in die zweite  ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_2 \cdot k_1 \cdot x = z$.
      \\[0.2cm] 
      Setzen wir $k_3 := k_2 \cdot k_1$, so haben wir also $k_3 \cdot x = z$
      und das zeigt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} z$.
\end{enumerate}
Die Relation $\mathtt{div}$ ist keine totale Ordnung, denn beispielsweise gilt weder
$2 \mathop{\mathtt{div}} 3$ noch $3 \mathop{\mathtt{div}} 2$.  \exend

\exercise
Auf der Menge der ganzen Zahlen $\mathbb{N}$ definieren wir die Relation $\leq$ 
wie folgt: 
\\[0.2cm]
\hspace*{1.3cm}
$\leq := \bigl\{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists k \in \mathbb{N}: x + k = y \bigr\}$.
\\[0.2cm]
Zeigen Sie, dass die Relation $\leq$ eine totale Ordnung auf $\mathbb{N}$ ist.
\exend

\exercise
Auf der Potenz-Menge der natürlichen Zahlen definieren wir die Relation
$\subseteq$ als 
\\[0.2cm]
\hspace*{1.3cm}
$\subseteq := 
\bigl\{ \pair(A,B) \in 2^\mathbb{N} \times 2^\mathbb{N}\mid \exists C \in 2^\mathbb{N}: A \cup C = B \bigr\}$
\\[0.2cm]
Zeigen Sie, dass die Relation $\subseteq$ auf $2^\mathbb{N}$ zwar eine partielle, aber keine
totale Ordnung ist.
\exend
\next

\noindent
Wir schließen damit den theoretischen Teil unseres Ausflugs in die Mengenlehre und verweisen für weitere
Details auf die Literatur \cite{lipschutz:1998}.  

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "logik"
%%% End: 
